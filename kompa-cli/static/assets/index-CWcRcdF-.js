(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function cf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var af={exports:{}},Gl={},ff={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vi=Symbol.for("react.element"),Dp=Symbol.for("react.portal"),Np=Symbol.for("react.fragment"),Tp=Symbol.for("react.strict_mode"),Lp=Symbol.for("react.profiler"),Op=Symbol.for("react.provider"),Pp=Symbol.for("react.context"),Mp=Symbol.for("react.forward_ref"),Rp=Symbol.for("react.suspense"),Ip=Symbol.for("react.memo"),jp=Symbol.for("react.lazy"),Sc=Symbol.iterator;function Ap(t){return t===null||typeof t!="object"?null:(t=Sc&&t[Sc]||t["@@iterator"],typeof t=="function"?t:null)}var df={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hf=Object.assign,pf={};function gr(t,e,n){this.props=t,this.context=e,this.refs=pf,this.updater=n||df}gr.prototype.isReactComponent={};gr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gf(){}gf.prototype=gr.prototype;function ou(t,e,n){this.props=t,this.context=e,this.refs=pf,this.updater=n||df}var uu=ou.prototype=new gf;uu.constructor=ou;hf(uu,gr.prototype);uu.isPureReactComponent=!0;var kc=Array.isArray,mf=Object.prototype.hasOwnProperty,cu={current:null},yf={key:!0,ref:!0,__self:!0,__source:!0};function vf(t,e,n){var r,i={},l=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(l=""+e.key),e)mf.call(e,r)&&!yf.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:vi,type:t,key:l,ref:s,props:i,_owner:cu.current}}function Up(t,e){return{$$typeof:vi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function au(t){return typeof t=="object"&&t!==null&&t.$$typeof===vi}function zp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Cc=/\/+/g;function ws(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zp(""+t.key):e.toString(36)}function qi(t,e,n,r,i){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case vi:case Dp:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+ws(s,0):r,kc(i)?(n="",t!=null&&(n=t.replace(Cc,"$&/")+"/"),qi(i,e,n,"",function(c){return c})):i!=null&&(au(i)&&(i=Up(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Cc,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",kc(t))for(var o=0;o<t.length;o++){l=t[o];var u=r+ws(l,o);s+=qi(l,e,n,u,i)}else if(u=Ap(t),typeof u=="function")for(t=u.call(t),o=0;!(l=t.next()).done;)l=l.value,u=r+ws(l,o++),s+=qi(l,e,n,u,i);else if(l==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Oi(t,e,n){if(t==null)return t;var r=[],i=0;return qi(t,r,"","",function(l){return e.call(n,l,i++)}),r}function Fp(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ne={current:null},el={transition:null},$p={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:el,ReactCurrentOwner:cu};function wf(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:Oi,forEach:function(t,e,n){Oi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Oi(t,function(){e++}),e},toArray:function(t){return Oi(t,function(e){return e})||[]},only:function(t){if(!au(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$.Component=gr;$.Fragment=Np;$.Profiler=Lp;$.PureComponent=ou;$.StrictMode=Tp;$.Suspense=Rp;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$p;$.act=wf;$.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=hf({},t.props),i=t.key,l=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(l=e.ref,s=cu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(u in e)mf.call(e,u)&&!yf.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&o!==void 0?o[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:vi,type:t.type,key:i,ref:l,props:r,_owner:s}};$.createContext=function(t){return t={$$typeof:Pp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Op,_context:t},t.Consumer=t};$.createElement=vf;$.createFactory=function(t){var e=vf.bind(null,t);return e.type=t,e};$.createRef=function(){return{current:null}};$.forwardRef=function(t){return{$$typeof:Mp,render:t}};$.isValidElement=au;$.lazy=function(t){return{$$typeof:jp,_payload:{_status:-1,_result:t},_init:Fp}};$.memo=function(t,e){return{$$typeof:Ip,type:t,compare:e===void 0?null:e}};$.startTransition=function(t){var e=el.transition;el.transition={};try{t()}finally{el.transition=e}};$.unstable_act=wf;$.useCallback=function(t,e){return Ne.current.useCallback(t,e)};$.useContext=function(t){return Ne.current.useContext(t)};$.useDebugValue=function(){};$.useDeferredValue=function(t){return Ne.current.useDeferredValue(t)};$.useEffect=function(t,e){return Ne.current.useEffect(t,e)};$.useId=function(){return Ne.current.useId()};$.useImperativeHandle=function(t,e,n){return Ne.current.useImperativeHandle(t,e,n)};$.useInsertionEffect=function(t,e){return Ne.current.useInsertionEffect(t,e)};$.useLayoutEffect=function(t,e){return Ne.current.useLayoutEffect(t,e)};$.useMemo=function(t,e){return Ne.current.useMemo(t,e)};$.useReducer=function(t,e,n){return Ne.current.useReducer(t,e,n)};$.useRef=function(t){return Ne.current.useRef(t)};$.useState=function(t){return Ne.current.useState(t)};$.useSyncExternalStore=function(t,e,n){return Ne.current.useSyncExternalStore(t,e,n)};$.useTransition=function(){return Ne.current.useTransition()};$.version="18.3.1";ff.exports=$;var N=ff.exports;const pn=cf(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp=N,Bp=Symbol.for("react.element"),Hp=Symbol.for("react.fragment"),Wp=Object.prototype.hasOwnProperty,Qp=Vp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Kp={key:!0,ref:!0,__self:!0,__source:!0};function Sf(t,e,n){var r,i={},l=null,s=null;n!==void 0&&(l=""+n),e.key!==void 0&&(l=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Wp.call(e,r)&&!Kp.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Bp,type:t,key:l,ref:s,props:i,_owner:Qp.current}}Gl.Fragment=Hp;Gl.jsx=Sf;Gl.jsxs=Sf;af.exports=Gl;var C=af.exports,lo={},kf={exports:{}},He={},Cf={exports:{}},Ef={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,j){var z=L.length;L.push(j);e:for(;0<z;){var M=z-1>>>1,U=L[M];if(0<i(U,j))L[M]=j,L[z]=U,z=M;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var j=L[0],z=L.pop();if(z!==j){L[0]=z;e:for(var M=0,U=L.length,ce=U>>>1;M<ce;){var Ie=2*(M+1)-1,ot=L[Ie],on=Ie+1,Li=L[on];if(0>i(ot,z))on<U&&0>i(Li,ot)?(L[M]=Li,L[on]=z,M=on):(L[M]=ot,L[Ie]=z,M=Ie);else if(on<U&&0>i(Li,z))L[M]=Li,L[on]=z,M=on;else break e}}return j}function i(L,j){var z=L.sortIndex-j.sortIndex;return z!==0?z:L.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var u=[],c=[],a=1,f=null,d=3,p=!1,y=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(L){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=L)r(c),j.sortIndex=j.expirationTime,e(u,j);else break;j=n(c)}}function w(L){if(v=!1,g(L),!y)if(n(u)!==null)y=!0,R(k);else{var j=n(c);j!==null&&pe(w,j.startTime-L)}}function k(L,j){y=!1,v&&(v=!1,m(S),S=-1),p=!0;var z=d;try{for(g(j),f=n(u);f!==null&&(!(f.expirationTime>j)||L&&!B());){var M=f.callback;if(typeof M=="function"){f.callback=null,d=f.priorityLevel;var U=M(f.expirationTime<=j);j=t.unstable_now(),typeof U=="function"?f.callback=U:f===n(u)&&r(u),g(j)}else r(u);f=n(u)}if(f!==null)var ce=!0;else{var Ie=n(c);Ie!==null&&pe(w,Ie.startTime-j),ce=!1}return ce}finally{f=null,d=z,p=!1}}var T=!1,D=null,S=-1,I=5,_=-1;function B(){return!(t.unstable_now()-_<I)}function Y(){if(D!==null){var L=t.unstable_now();_=L;var j=!0;try{j=D(!0,L)}finally{j?Q():(T=!1,D=null)}}else T=!1}var Q;if(typeof h=="function")Q=function(){h(Y)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,O=A.port2;A.port1.onmessage=Y,Q=function(){O.postMessage(null)}}else Q=function(){x(Y,0)};function R(L){D=L,T||(T=!0,Q())}function pe(L,j){S=x(function(){L(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,R(k))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var j=3;break;default:j=d}var z=d;d=j;try{return L()}finally{d=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,j){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=d;d=L;try{return j()}finally{d=z}},t.unstable_scheduleCallback=function(L,j,z){var M=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?M+z:M):z=M,L){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=z+U,L={id:a++,callback:j,priorityLevel:L,startTime:z,expirationTime:U,sortIndex:-1},z>M?(L.sortIndex=z,e(c,L),n(u)===null&&L===n(c)&&(v?(m(S),S=-1):v=!0,pe(w,z-M))):(L.sortIndex=U,e(u,L),y||p||(y=!0,R(k))),L},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(L){var j=d;return function(){var z=d;d=j;try{return L.apply(this,arguments)}finally{d=z}}}})(Ef);Cf.exports=Ef;var Yp=Cf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp=N,Be=Yp;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _f=new Set,Kr={};function Nn(t,e){nr(t,e),nr(t+"Capture",e)}function nr(t,e){for(Kr[t]=e,t=0;t<e.length;t++)_f.add(e[t])}var Dt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),so=Object.prototype.hasOwnProperty,Gp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ec={},_c={};function Xp(t){return so.call(_c,t)?!0:so.call(Ec,t)?!1:Gp.test(t)?_c[t]=!0:(Ec[t]=!0,!1)}function Zp(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bp(t,e,n,r){if(e===null||typeof e>"u"||Zp(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Te(t,e,n,r,i,l,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=l,this.removeEmptyString=s}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){we[t]=new Te(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];we[e]=new Te(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){we[t]=new Te(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){we[t]=new Te(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){we[t]=new Te(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){we[t]=new Te(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){we[t]=new Te(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){we[t]=new Te(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){we[t]=new Te(t,5,!1,t.toLowerCase(),null,!1,!1)});var fu=/[\-:]([a-z])/g;function du(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fu,du);we[e]=new Te(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fu,du);we[e]=new Te(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fu,du);we[e]=new Te(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){we[t]=new Te(t,1,!1,t.toLowerCase(),null,!1,!1)});we.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){we[t]=new Te(t,1,!1,t.toLowerCase(),null,!0,!0)});function hu(t,e,n,r){var i=we.hasOwnProperty(e)?we[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bp(e,n,i,r)&&(n=null),r||i===null?Xp(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ot=Jp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pi=Symbol.for("react.element"),Rn=Symbol.for("react.portal"),In=Symbol.for("react.fragment"),pu=Symbol.for("react.strict_mode"),oo=Symbol.for("react.profiler"),xf=Symbol.for("react.provider"),Df=Symbol.for("react.context"),gu=Symbol.for("react.forward_ref"),uo=Symbol.for("react.suspense"),co=Symbol.for("react.suspense_list"),mu=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),Nf=Symbol.for("react.offscreen"),xc=Symbol.iterator;function Cr(t){return t===null||typeof t!="object"?null:(t=xc&&t[xc]||t["@@iterator"],typeof t=="function"?t:null)}var te=Object.assign,Ss;function Or(t){if(Ss===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ss=e&&e[1]||""}return`
`+Ss+t}var ks=!1;function Cs(t,e){if(!t||ks)return"";ks=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),l=r.stack.split(`
`),s=i.length-1,o=l.length-1;1<=s&&0<=o&&i[s]!==l[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==l[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==l[o]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=o);break}}}finally{ks=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Or(t):""}function qp(t){switch(t.tag){case 5:return Or(t.type);case 16:return Or("Lazy");case 13:return Or("Suspense");case 19:return Or("SuspenseList");case 0:case 2:case 15:return t=Cs(t.type,!1),t;case 11:return t=Cs(t.type.render,!1),t;case 1:return t=Cs(t.type,!0),t;default:return""}}function ao(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case In:return"Fragment";case Rn:return"Portal";case oo:return"Profiler";case pu:return"StrictMode";case uo:return"Suspense";case co:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Df:return(t.displayName||"Context")+".Consumer";case xf:return(t._context.displayName||"Context")+".Provider";case gu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mu:return e=t.displayName||null,e!==null?e:ao(t.type)||"Memo";case It:e=t._payload,t=t._init;try{return ao(t(e))}catch{}}return null}function eg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ao(e);case 8:return e===pu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tg(t){var e=Tf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,l=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,l.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mi(t){t._valueTracker||(t._valueTracker=tg(t))}function Lf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Tf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function gl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fo(t,e){var n=e.checked;return te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Dc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Of(t,e){e=e.checked,e!=null&&hu(t,"checked",e,!1)}function ho(t,e){Of(t,e);var n=Zt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?po(t,e.type,n):e.hasOwnProperty("defaultValue")&&po(t,e.type,Zt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Nc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function po(t,e,n){(e!=="number"||gl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Pr=Array.isArray;function Kn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function go(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Tc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(Pr(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zt(n)}}function Pf(t,e){var n=Zt(e.value),r=Zt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Lc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Mf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Mf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ri,Rf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ri=Ri||document.createElement("div"),Ri.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ri.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ng=["Webkit","ms","Moz","O"];Object.keys(jr).forEach(function(t){ng.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jr[e]=jr[t]})});function If(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||jr.hasOwnProperty(t)&&jr[t]?(""+e).trim():e+"px"}function jf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=If(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rg=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yo(t,e){if(e){if(rg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function vo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wo=null;function yu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var So=null,Yn=null,Jn=null;function Oc(t){if(t=ki(t)){if(typeof So!="function")throw Error(E(280));var e=t.stateNode;e&&(e=es(e),So(t.stateNode,t.type,e))}}function Af(t){Yn?Jn?Jn.push(t):Jn=[t]:Yn=t}function Uf(){if(Yn){var t=Yn,e=Jn;if(Jn=Yn=null,Oc(t),e)for(t=0;t<e.length;t++)Oc(e[t])}}function zf(t,e){return t(e)}function Ff(){}var Es=!1;function $f(t,e,n){if(Es)return t(e,n);Es=!0;try{return zf(t,e,n)}finally{Es=!1,(Yn!==null||Jn!==null)&&(Ff(),Uf())}}function Jr(t,e){var n=t.stateNode;if(n===null)return null;var r=es(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var ko=!1;if(Dt)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){ko=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{ko=!1}function ig(t,e,n,r,i,l,s,o,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(a){this.onError(a)}}var Ar=!1,ml=null,yl=!1,Co=null,lg={onError:function(t){Ar=!0,ml=t}};function sg(t,e,n,r,i,l,s,o,u){Ar=!1,ml=null,ig.apply(lg,arguments)}function og(t,e,n,r,i,l,s,o,u){if(sg.apply(this,arguments),Ar){if(Ar){var c=ml;Ar=!1,ml=null}else throw Error(E(198));yl||(yl=!0,Co=c)}}function Tn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Vf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Pc(t){if(Tn(t)!==t)throw Error(E(188))}function ug(t){var e=t.alternate;if(!e){if(e=Tn(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var l=i.alternate;if(l===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return Pc(i),t;if(l===r)return Pc(i),e;l=l.sibling}throw Error(E(188))}if(n.return!==r.return)n=i,r=l;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=l;break}if(o===r){s=!0,r=i,n=l;break}o=o.sibling}if(!s){for(o=l.child;o;){if(o===n){s=!0,n=l,r=i;break}if(o===r){s=!0,r=l,n=i;break}o=o.sibling}if(!s)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function Bf(t){return t=ug(t),t!==null?Hf(t):null}function Hf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Hf(t);if(e!==null)return e;t=t.sibling}return null}var Wf=Be.unstable_scheduleCallback,Mc=Be.unstable_cancelCallback,cg=Be.unstable_shouldYield,ag=Be.unstable_requestPaint,re=Be.unstable_now,fg=Be.unstable_getCurrentPriorityLevel,vu=Be.unstable_ImmediatePriority,Qf=Be.unstable_UserBlockingPriority,vl=Be.unstable_NormalPriority,dg=Be.unstable_LowPriority,Kf=Be.unstable_IdlePriority,Xl=null,ht=null;function hg(t){if(ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(Xl,t,void 0,(t.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:mg,pg=Math.log,gg=Math.LN2;function mg(t){return t>>>=0,t===0?32:31-(pg(t)/gg|0)|0}var Ii=64,ji=4194304;function Mr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,l=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Mr(o):(l&=s,l!==0&&(r=Mr(l)))}else s=n&~i,s!==0?r=Mr(s):l!==0&&(r=Mr(l));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,l=e&-e,i>=l||i===16&&(l&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-rt(e),i=1<<n,r|=t[n],e&=~i;return r}function yg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vg(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,l=t.pendingLanes;0<l;){var s=31-rt(l),o=1<<s,u=i[s];u===-1?(!(o&n)||o&r)&&(i[s]=yg(o,e)):u<=e&&(t.expiredLanes|=o),l&=~o}}function Eo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yf(){var t=Ii;return Ii<<=1,!(Ii&4194240)&&(Ii=64),t}function _s(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rt(e),t[e]=n}function wg(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-rt(n),l=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~l}}function wu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-rt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var K=0;function Jf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Gf,Su,Xf,Zf,bf,_o=!1,Ai=[],Bt=null,Ht=null,Wt=null,Gr=new Map,Xr=new Map,At=[],Sg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rc(t,e){switch(t){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":Wt=null;break;case"pointerover":case"pointerout":Gr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xr.delete(e.pointerId)}}function _r(t,e,n,r,i,l){return t===null||t.nativeEvent!==l?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[i]},e!==null&&(e=ki(e),e!==null&&Su(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function kg(t,e,n,r,i){switch(e){case"focusin":return Bt=_r(Bt,t,e,n,r,i),!0;case"dragenter":return Ht=_r(Ht,t,e,n,r,i),!0;case"mouseover":return Wt=_r(Wt,t,e,n,r,i),!0;case"pointerover":var l=i.pointerId;return Gr.set(l,_r(Gr.get(l)||null,t,e,n,r,i)),!0;case"gotpointercapture":return l=i.pointerId,Xr.set(l,_r(Xr.get(l)||null,t,e,n,r,i)),!0}return!1}function qf(t){var e=fn(t.target);if(e!==null){var n=Tn(e);if(n!==null){if(e=n.tag,e===13){if(e=Vf(n),e!==null){t.blockedOn=e,bf(t.priority,function(){Xf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wo=r,n.target.dispatchEvent(r),wo=null}else return e=ki(n),e!==null&&Su(e),t.blockedOn=n,!1;e.shift()}return!0}function Ic(t,e,n){tl(t)&&n.delete(e)}function Cg(){_o=!1,Bt!==null&&tl(Bt)&&(Bt=null),Ht!==null&&tl(Ht)&&(Ht=null),Wt!==null&&tl(Wt)&&(Wt=null),Gr.forEach(Ic),Xr.forEach(Ic)}function xr(t,e){t.blockedOn===e&&(t.blockedOn=null,_o||(_o=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,Cg)))}function Zr(t){function e(i){return xr(i,t)}if(0<Ai.length){xr(Ai[0],t);for(var n=1;n<Ai.length;n++){var r=Ai[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Bt!==null&&xr(Bt,t),Ht!==null&&xr(Ht,t),Wt!==null&&xr(Wt,t),Gr.forEach(e),Xr.forEach(e),n=0;n<At.length;n++)r=At[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<At.length&&(n=At[0],n.blockedOn===null);)qf(n),n.blockedOn===null&&At.shift()}var Gn=Ot.ReactCurrentBatchConfig,Sl=!0;function Eg(t,e,n,r){var i=K,l=Gn.transition;Gn.transition=null;try{K=1,ku(t,e,n,r)}finally{K=i,Gn.transition=l}}function _g(t,e,n,r){var i=K,l=Gn.transition;Gn.transition=null;try{K=4,ku(t,e,n,r)}finally{K=i,Gn.transition=l}}function ku(t,e,n,r){if(Sl){var i=xo(t,e,n,r);if(i===null)Is(t,e,r,kl,n),Rc(t,r);else if(kg(i,t,e,n,r))r.stopPropagation();else if(Rc(t,r),e&4&&-1<Sg.indexOf(t)){for(;i!==null;){var l=ki(i);if(l!==null&&Gf(l),l=xo(t,e,n,r),l===null&&Is(t,e,r,kl,n),l===i)break;i=l}i!==null&&r.stopPropagation()}else Is(t,e,r,null,n)}}var kl=null;function xo(t,e,n,r){if(kl=null,t=yu(r),t=fn(t),t!==null)if(e=Tn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Vf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return kl=t,null}function ed(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fg()){case vu:return 1;case Qf:return 4;case vl:case dg:return 16;case Kf:return 536870912;default:return 16}default:return 16}}var Ft=null,Cu=null,nl=null;function td(){if(nl)return nl;var t,e=Cu,n=e.length,r,i="value"in Ft?Ft.value:Ft.textContent,l=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[l-r];r++);return nl=i.slice(t,1<r?1-r:void 0)}function rl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ui(){return!0}function jc(){return!1}function We(t){function e(n,r,i,l,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=l,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Ui:jc,this.isPropagationStopped=jc,this}return te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),e}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eu=We(mr),Si=te({},mr,{view:0,detail:0}),xg=We(Si),xs,Ds,Dr,Zl=te({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_u,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dr&&(Dr&&t.type==="mousemove"?(xs=t.screenX-Dr.screenX,Ds=t.screenY-Dr.screenY):Ds=xs=0,Dr=t),xs)},movementY:function(t){return"movementY"in t?t.movementY:Ds}}),Ac=We(Zl),Dg=te({},Zl,{dataTransfer:0}),Ng=We(Dg),Tg=te({},Si,{relatedTarget:0}),Ns=We(Tg),Lg=te({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Og=We(Lg),Pg=te({},mr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mg=We(Pg),Rg=te({},mr,{data:0}),Uc=We(Rg),Ig={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ag={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ug(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ag[t])?!!e[t]:!1}function _u(){return Ug}var zg=te({},Si,{key:function(t){if(t.key){var e=Ig[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_u,charCode:function(t){return t.type==="keypress"?rl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fg=We(zg),$g=te({},Zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zc=We($g),Vg=te({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_u}),Bg=We(Vg),Hg=te({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wg=We(Hg),Qg=te({},Zl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kg=We(Qg),Yg=[9,13,27,32],xu=Dt&&"CompositionEvent"in window,Ur=null;Dt&&"documentMode"in document&&(Ur=document.documentMode);var Jg=Dt&&"TextEvent"in window&&!Ur,nd=Dt&&(!xu||Ur&&8<Ur&&11>=Ur),Fc=" ",$c=!1;function rd(t,e){switch(t){case"keyup":return Yg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function id(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jn=!1;function Gg(t,e){switch(t){case"compositionend":return id(e);case"keypress":return e.which!==32?null:($c=!0,Fc);case"textInput":return t=e.data,t===Fc&&$c?null:t;default:return null}}function Xg(t,e){if(jn)return t==="compositionend"||!xu&&rd(t,e)?(t=td(),nl=Cu=Ft=null,jn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nd&&e.locale!=="ko"?null:e.data;default:return null}}var Zg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Zg[t.type]:e==="textarea"}function ld(t,e,n,r){Af(r),e=Cl(e,"onChange"),0<e.length&&(n=new Eu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zr=null,br=null;function bg(t){md(t,0)}function bl(t){var e=zn(t);if(Lf(e))return t}function qg(t,e){if(t==="change")return e}var sd=!1;if(Dt){var Ts;if(Dt){var Ls="oninput"in document;if(!Ls){var Bc=document.createElement("div");Bc.setAttribute("oninput","return;"),Ls=typeof Bc.oninput=="function"}Ts=Ls}else Ts=!1;sd=Ts&&(!document.documentMode||9<document.documentMode)}function Hc(){zr&&(zr.detachEvent("onpropertychange",od),br=zr=null)}function od(t){if(t.propertyName==="value"&&bl(br)){var e=[];ld(e,br,t,yu(t)),$f(bg,e)}}function em(t,e,n){t==="focusin"?(Hc(),zr=e,br=n,zr.attachEvent("onpropertychange",od)):t==="focusout"&&Hc()}function tm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bl(br)}function nm(t,e){if(t==="click")return bl(e)}function rm(t,e){if(t==="input"||t==="change")return bl(e)}function im(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var st=typeof Object.is=="function"?Object.is:im;function qr(t,e){if(st(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!so.call(e,i)||!st(t[i],e[i]))return!1}return!0}function Wc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qc(t,e){var n=Wc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wc(n)}}function ud(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ud(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cd(){for(var t=window,e=gl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gl(t.document)}return e}function Du(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function lm(t){var e=cd(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ud(n.ownerDocument.documentElement,n)){if(r!==null&&Du(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,l=Math.min(r.start,i);r=r.end===void 0?l:Math.min(r.end,i),!t.extend&&l>r&&(i=r,r=l,l=i),i=Qc(n,l);var s=Qc(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),l>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sm=Dt&&"documentMode"in document&&11>=document.documentMode,An=null,Do=null,Fr=null,No=!1;function Kc(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;No||An==null||An!==gl(r)||(r=An,"selectionStart"in r&&Du(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fr&&qr(Fr,r)||(Fr=r,r=Cl(Do,"onSelect"),0<r.length&&(e=new Eu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=An)))}function zi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Un={animationend:zi("Animation","AnimationEnd"),animationiteration:zi("Animation","AnimationIteration"),animationstart:zi("Animation","AnimationStart"),transitionend:zi("Transition","TransitionEnd")},Os={},ad={};Dt&&(ad=document.createElement("div").style,"AnimationEvent"in window||(delete Un.animationend.animation,delete Un.animationiteration.animation,delete Un.animationstart.animation),"TransitionEvent"in window||delete Un.transitionend.transition);function ql(t){if(Os[t])return Os[t];if(!Un[t])return t;var e=Un[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ad)return Os[t]=e[n];return t}var fd=ql("animationend"),dd=ql("animationiteration"),hd=ql("animationstart"),pd=ql("transitionend"),gd=new Map,Yc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nn(t,e){gd.set(t,e),Nn(e,[t])}for(var Ps=0;Ps<Yc.length;Ps++){var Ms=Yc[Ps],om=Ms.toLowerCase(),um=Ms[0].toUpperCase()+Ms.slice(1);nn(om,"on"+um)}nn(fd,"onAnimationEnd");nn(dd,"onAnimationIteration");nn(hd,"onAnimationStart");nn("dblclick","onDoubleClick");nn("focusin","onFocus");nn("focusout","onBlur");nn(pd,"onTransitionEnd");nr("onMouseEnter",["mouseout","mouseover"]);nr("onMouseLeave",["mouseout","mouseover"]);nr("onPointerEnter",["pointerout","pointerover"]);nr("onPointerLeave",["pointerout","pointerover"]);Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Jc(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,og(r,e,void 0,t),t.currentTarget=null}function md(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var l=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==l&&i.isPropagationStopped())break e;Jc(i,o,c),l=u}else for(s=0;s<r.length;s++){if(o=r[s],u=o.instance,c=o.currentTarget,o=o.listener,u!==l&&i.isPropagationStopped())break e;Jc(i,o,c),l=u}}}if(yl)throw t=Co,yl=!1,Co=null,t}function X(t,e){var n=e[Mo];n===void 0&&(n=e[Mo]=new Set);var r=t+"__bubble";n.has(r)||(yd(e,t,2,!1),n.add(r))}function Rs(t,e,n){var r=0;e&&(r|=4),yd(n,t,r,e)}var Fi="_reactListening"+Math.random().toString(36).slice(2);function ei(t){if(!t[Fi]){t[Fi]=!0,_f.forEach(function(n){n!=="selectionchange"&&(cm.has(n)||Rs(n,!1,t),Rs(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fi]||(e[Fi]=!0,Rs("selectionchange",!1,e))}}function yd(t,e,n,r){switch(ed(e)){case 1:var i=Eg;break;case 4:i=_g;break;default:i=ku}n=i.bind(null,e,n,t),i=void 0,!ko||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Is(t,e,n,r,i){var l=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;o!==null;){if(s=fn(o),s===null)return;if(u=s.tag,u===5||u===6){r=l=s;continue e}o=o.parentNode}}r=r.return}$f(function(){var c=l,a=yu(n),f=[];e:{var d=gd.get(t);if(d!==void 0){var p=Eu,y=t;switch(t){case"keypress":if(rl(n)===0)break e;case"keydown":case"keyup":p=Fg;break;case"focusin":y="focus",p=Ns;break;case"focusout":y="blur",p=Ns;break;case"beforeblur":case"afterblur":p=Ns;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Ng;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Bg;break;case fd:case dd:case hd:p=Og;break;case pd:p=Wg;break;case"scroll":p=xg;break;case"wheel":p=Kg;break;case"copy":case"cut":case"paste":p=Mg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=zc}var v=(e&4)!==0,x=!v&&t==="scroll",m=v?d!==null?d+"Capture":null:d;v=[];for(var h=c,g;h!==null;){g=h;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,m!==null&&(w=Jr(h,m),w!=null&&v.push(ti(h,w,g)))),x)break;h=h.return}0<v.length&&(d=new p(d,y,null,n,a),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==wo&&(y=n.relatedTarget||n.fromElement)&&(fn(y)||y[Nt]))break e;if((p||d)&&(d=a.window===a?a:(d=a.ownerDocument)?d.defaultView||d.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=c,y=y?fn(y):null,y!==null&&(x=Tn(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(v=Ac,w="onMouseLeave",m="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(v=zc,w="onPointerLeave",m="onPointerEnter",h="pointer"),x=p==null?d:zn(p),g=y==null?d:zn(y),d=new v(w,h+"leave",p,n,a),d.target=x,d.relatedTarget=g,w=null,fn(a)===c&&(v=new v(m,h+"enter",y,n,a),v.target=g,v.relatedTarget=x,w=v),x=w,p&&y)t:{for(v=p,m=y,h=0,g=v;g;g=Pn(g))h++;for(g=0,w=m;w;w=Pn(w))g++;for(;0<h-g;)v=Pn(v),h--;for(;0<g-h;)m=Pn(m),g--;for(;h--;){if(v===m||m!==null&&v===m.alternate)break t;v=Pn(v),m=Pn(m)}v=null}else v=null;p!==null&&Gc(f,d,p,v,!1),y!==null&&x!==null&&Gc(f,x,y,v,!0)}}e:{if(d=c?zn(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var k=qg;else if(Vc(d))if(sd)k=rm;else{k=tm;var T=em}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=nm);if(k&&(k=k(t,c))){ld(f,k,n,a);break e}T&&T(t,d,c),t==="focusout"&&(T=d._wrapperState)&&T.controlled&&d.type==="number"&&po(d,"number",d.value)}switch(T=c?zn(c):window,t){case"focusin":(Vc(T)||T.contentEditable==="true")&&(An=T,Do=c,Fr=null);break;case"focusout":Fr=Do=An=null;break;case"mousedown":No=!0;break;case"contextmenu":case"mouseup":case"dragend":No=!1,Kc(f,n,a);break;case"selectionchange":if(sm)break;case"keydown":case"keyup":Kc(f,n,a)}var D;if(xu)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else jn?rd(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(nd&&n.locale!=="ko"&&(jn||S!=="onCompositionStart"?S==="onCompositionEnd"&&jn&&(D=td()):(Ft=a,Cu="value"in Ft?Ft.value:Ft.textContent,jn=!0)),T=Cl(c,S),0<T.length&&(S=new Uc(S,t,null,n,a),f.push({event:S,listeners:T}),D?S.data=D:(D=id(n),D!==null&&(S.data=D)))),(D=Jg?Gg(t,n):Xg(t,n))&&(c=Cl(c,"onBeforeInput"),0<c.length&&(a=new Uc("onBeforeInput","beforeinput",null,n,a),f.push({event:a,listeners:c}),a.data=D))}md(f,e)})}function ti(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,l=i.stateNode;i.tag===5&&l!==null&&(i=l,l=Jr(t,n),l!=null&&r.unshift(ti(t,l,i)),l=Jr(t,e),l!=null&&r.push(ti(t,l,i))),t=t.return}return r}function Pn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gc(t,e,n,r,i){for(var l=e._reactName,s=[];n!==null&&n!==r;){var o=n,u=o.alternate,c=o.stateNode;if(u!==null&&u===r)break;o.tag===5&&c!==null&&(o=c,i?(u=Jr(n,l),u!=null&&s.unshift(ti(n,u,o))):i||(u=Jr(n,l),u!=null&&s.push(ti(n,u,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var am=/\r\n?/g,fm=/\u0000|\uFFFD/g;function Xc(t){return(typeof t=="string"?t:""+t).replace(am,`
`).replace(fm,"")}function $i(t,e,n){if(e=Xc(e),Xc(t)!==e&&n)throw Error(E(425))}function El(){}var To=null,Lo=null;function Oo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Po=typeof setTimeout=="function"?setTimeout:void 0,dm=typeof clearTimeout=="function"?clearTimeout:void 0,Zc=typeof Promise=="function"?Promise:void 0,hm=typeof queueMicrotask=="function"?queueMicrotask:typeof Zc<"u"?function(t){return Zc.resolve(null).then(t).catch(pm)}:Po;function pm(t){setTimeout(function(){throw t})}function js(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Zr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zr(e)}function Qt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yr=Math.random().toString(36).slice(2),ft="__reactFiber$"+yr,ni="__reactProps$"+yr,Nt="__reactContainer$"+yr,Mo="__reactEvents$"+yr,gm="__reactListeners$"+yr,mm="__reactHandles$"+yr;function fn(t){var e=t[ft];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nt]||n[ft]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bc(t);t!==null;){if(n=t[ft])return n;t=bc(t)}return e}t=n,n=t.parentNode}return null}function ki(t){return t=t[ft]||t[Nt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function es(t){return t[ni]||null}var Ro=[],Fn=-1;function rn(t){return{current:t}}function Z(t){0>Fn||(t.current=Ro[Fn],Ro[Fn]=null,Fn--)}function G(t,e){Fn++,Ro[Fn]=t.current,t.current=e}var bt={},_e=rn(bt),Pe=rn(!1),vn=bt;function rr(t,e){var n=t.type.contextTypes;if(!n)return bt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},l;for(l in n)i[l]=e[l];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Me(t){return t=t.childContextTypes,t!=null}function _l(){Z(Pe),Z(_e)}function qc(t,e,n){if(_e.current!==bt)throw Error(E(168));G(_e,e),G(Pe,n)}function vd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(E(108,eg(t)||"Unknown",i));return te({},n,r)}function xl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bt,vn=_e.current,G(_e,t),G(Pe,Pe.current),!0}function ea(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=vd(t,e,vn),r.__reactInternalMemoizedMergedChildContext=t,Z(Pe),Z(_e),G(_e,t)):Z(Pe),G(Pe,n)}var kt=null,ts=!1,As=!1;function wd(t){kt===null?kt=[t]:kt.push(t)}function ym(t){ts=!0,wd(t)}function ln(){if(!As&&kt!==null){As=!0;var t=0,e=K;try{var n=kt;for(K=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}kt=null,ts=!1}catch(i){throw kt!==null&&(kt=kt.slice(t+1)),Wf(vu,ln),i}finally{K=e,As=!1}}return null}var $n=[],Vn=0,Dl=null,Nl=0,Qe=[],Ke=0,wn=null,Ct=1,Et="";function un(t,e){$n[Vn++]=Nl,$n[Vn++]=Dl,Dl=t,Nl=e}function Sd(t,e,n){Qe[Ke++]=Ct,Qe[Ke++]=Et,Qe[Ke++]=wn,wn=t;var r=Ct;t=Et;var i=32-rt(r)-1;r&=~(1<<i),n+=1;var l=32-rt(e)+i;if(30<l){var s=i-i%5;l=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ct=1<<32-rt(e)+i|n<<i|r,Et=l+t}else Ct=1<<l|n<<i|r,Et=t}function Nu(t){t.return!==null&&(un(t,1),Sd(t,1,0))}function Tu(t){for(;t===Dl;)Dl=$n[--Vn],$n[Vn]=null,Nl=$n[--Vn],$n[Vn]=null;for(;t===wn;)wn=Qe[--Ke],Qe[Ke]=null,Et=Qe[--Ke],Qe[Ke]=null,Ct=Qe[--Ke],Qe[Ke]=null}var $e=null,Fe=null,b=!1,nt=null;function kd(t,e){var n=Ge(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ta(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$e=t,Fe=Qt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$e=t,Fe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=wn!==null?{id:Ct,overflow:Et}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ge(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$e=t,Fe=null,!0):!1;default:return!1}}function Io(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jo(t){if(b){var e=Fe;if(e){var n=e;if(!ta(t,e)){if(Io(t))throw Error(E(418));e=Qt(n.nextSibling);var r=$e;e&&ta(t,e)?kd(r,n):(t.flags=t.flags&-4097|2,b=!1,$e=t)}}else{if(Io(t))throw Error(E(418));t.flags=t.flags&-4097|2,b=!1,$e=t}}}function na(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$e=t}function Vi(t){if(t!==$e)return!1;if(!b)return na(t),b=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Oo(t.type,t.memoizedProps)),e&&(e=Fe)){if(Io(t))throw Cd(),Error(E(418));for(;e;)kd(t,e),e=Qt(e.nextSibling)}if(na(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fe=Qt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fe=null}}else Fe=$e?Qt(t.stateNode.nextSibling):null;return!0}function Cd(){for(var t=Fe;t;)t=Qt(t.nextSibling)}function ir(){Fe=$e=null,b=!1}function Lu(t){nt===null?nt=[t]:nt.push(t)}var vm=Ot.ReactCurrentBatchConfig;function Nr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var i=r,l=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===l?e.ref:(e=function(s){var o=i.refs;s===null?delete o[l]:o[l]=s},e._stringRef=l,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function Bi(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ra(t){var e=t._init;return e(t._payload)}function Ed(t){function e(m,h){if(t){var g=m.deletions;g===null?(m.deletions=[h],m.flags|=16):g.push(h)}}function n(m,h){if(!t)return null;for(;h!==null;)e(m,h),h=h.sibling;return null}function r(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function i(m,h){return m=Gt(m,h),m.index=0,m.sibling=null,m}function l(m,h,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<h?(m.flags|=2,h):g):(m.flags|=2,h)):(m.flags|=1048576,h)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function o(m,h,g,w){return h===null||h.tag!==6?(h=Hs(g,m.mode,w),h.return=m,h):(h=i(h,g),h.return=m,h)}function u(m,h,g,w){var k=g.type;return k===In?a(m,h,g.props.children,w,g.key):h!==null&&(h.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===It&&ra(k)===h.type)?(w=i(h,g.props),w.ref=Nr(m,h,g),w.return=m,w):(w=al(g.type,g.key,g.props,null,m.mode,w),w.ref=Nr(m,h,g),w.return=m,w)}function c(m,h,g,w){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=Ws(g,m.mode,w),h.return=m,h):(h=i(h,g.children||[]),h.return=m,h)}function a(m,h,g,w,k){return h===null||h.tag!==7?(h=mn(g,m.mode,w,k),h.return=m,h):(h=i(h,g),h.return=m,h)}function f(m,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Hs(""+h,m.mode,g),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Pi:return g=al(h.type,h.key,h.props,null,m.mode,g),g.ref=Nr(m,null,h),g.return=m,g;case Rn:return h=Ws(h,m.mode,g),h.return=m,h;case It:var w=h._init;return f(m,w(h._payload),g)}if(Pr(h)||Cr(h))return h=mn(h,m.mode,g,null),h.return=m,h;Bi(m,h)}return null}function d(m,h,g,w){var k=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:o(m,h,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Pi:return g.key===k?u(m,h,g,w):null;case Rn:return g.key===k?c(m,h,g,w):null;case It:return k=g._init,d(m,h,k(g._payload),w)}if(Pr(g)||Cr(g))return k!==null?null:a(m,h,g,w,null);Bi(m,g)}return null}function p(m,h,g,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(g)||null,o(h,m,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Pi:return m=m.get(w.key===null?g:w.key)||null,u(h,m,w,k);case Rn:return m=m.get(w.key===null?g:w.key)||null,c(h,m,w,k);case It:var T=w._init;return p(m,h,g,T(w._payload),k)}if(Pr(w)||Cr(w))return m=m.get(g)||null,a(h,m,w,k,null);Bi(h,w)}return null}function y(m,h,g,w){for(var k=null,T=null,D=h,S=h=0,I=null;D!==null&&S<g.length;S++){D.index>S?(I=D,D=null):I=D.sibling;var _=d(m,D,g[S],w);if(_===null){D===null&&(D=I);break}t&&D&&_.alternate===null&&e(m,D),h=l(_,h,S),T===null?k=_:T.sibling=_,T=_,D=I}if(S===g.length)return n(m,D),b&&un(m,S),k;if(D===null){for(;S<g.length;S++)D=f(m,g[S],w),D!==null&&(h=l(D,h,S),T===null?k=D:T.sibling=D,T=D);return b&&un(m,S),k}for(D=r(m,D);S<g.length;S++)I=p(D,m,S,g[S],w),I!==null&&(t&&I.alternate!==null&&D.delete(I.key===null?S:I.key),h=l(I,h,S),T===null?k=I:T.sibling=I,T=I);return t&&D.forEach(function(B){return e(m,B)}),b&&un(m,S),k}function v(m,h,g,w){var k=Cr(g);if(typeof k!="function")throw Error(E(150));if(g=k.call(g),g==null)throw Error(E(151));for(var T=k=null,D=h,S=h=0,I=null,_=g.next();D!==null&&!_.done;S++,_=g.next()){D.index>S?(I=D,D=null):I=D.sibling;var B=d(m,D,_.value,w);if(B===null){D===null&&(D=I);break}t&&D&&B.alternate===null&&e(m,D),h=l(B,h,S),T===null?k=B:T.sibling=B,T=B,D=I}if(_.done)return n(m,D),b&&un(m,S),k;if(D===null){for(;!_.done;S++,_=g.next())_=f(m,_.value,w),_!==null&&(h=l(_,h,S),T===null?k=_:T.sibling=_,T=_);return b&&un(m,S),k}for(D=r(m,D);!_.done;S++,_=g.next())_=p(D,m,S,_.value,w),_!==null&&(t&&_.alternate!==null&&D.delete(_.key===null?S:_.key),h=l(_,h,S),T===null?k=_:T.sibling=_,T=_);return t&&D.forEach(function(Y){return e(m,Y)}),b&&un(m,S),k}function x(m,h,g,w){if(typeof g=="object"&&g!==null&&g.type===In&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Pi:e:{for(var k=g.key,T=h;T!==null;){if(T.key===k){if(k=g.type,k===In){if(T.tag===7){n(m,T.sibling),h=i(T,g.props.children),h.return=m,m=h;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===It&&ra(k)===T.type){n(m,T.sibling),h=i(T,g.props),h.ref=Nr(m,T,g),h.return=m,m=h;break e}n(m,T);break}else e(m,T);T=T.sibling}g.type===In?(h=mn(g.props.children,m.mode,w,g.key),h.return=m,m=h):(w=al(g.type,g.key,g.props,null,m.mode,w),w.ref=Nr(m,h,g),w.return=m,m=w)}return s(m);case Rn:e:{for(T=g.key;h!==null;){if(h.key===T)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(m,h.sibling),h=i(h,g.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else e(m,h);h=h.sibling}h=Ws(g,m.mode,w),h.return=m,m=h}return s(m);case It:return T=g._init,x(m,h,T(g._payload),w)}if(Pr(g))return y(m,h,g,w);if(Cr(g))return v(m,h,g,w);Bi(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(m,h.sibling),h=i(h,g),h.return=m,m=h):(n(m,h),h=Hs(g,m.mode,w),h.return=m,m=h),s(m)):n(m,h)}return x}var lr=Ed(!0),_d=Ed(!1),Tl=rn(null),Ll=null,Bn=null,Ou=null;function Pu(){Ou=Bn=Ll=null}function Mu(t){var e=Tl.current;Z(Tl),t._currentValue=e}function Ao(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xn(t,e){Ll=t,Ou=Bn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Oe=!0),t.firstContext=null)}function Ze(t){var e=t._currentValue;if(Ou!==t)if(t={context:t,memoizedValue:e,next:null},Bn===null){if(Ll===null)throw Error(E(308));Bn=t,Ll.dependencies={lanes:0,firstContext:t}}else Bn=Bn.next=t;return e}var dn=null;function Ru(t){dn===null?dn=[t]:dn.push(t)}function xd(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ru(e)):(n.next=i.next,i.next=n),e.interleaved=n,Tt(t,r)}function Tt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var jt=!1;function Iu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _t(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Kt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Tt(t,n)}return i=r.interleaved,i===null?(e.next=e,Ru(r)):(e.next=i.next,i.next=e),r.interleaved=e,Tt(t,n)}function il(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wu(t,n)}}function ia(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?i=l=s:l=l.next=s,n=n.next}while(n!==null);l===null?i=l=e:l=l.next=e}else i=l=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ol(t,e,n,r){var i=t.updateQueue;jt=!1;var l=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var u=o,c=u.next;u.next=null,s===null?l=c:s.next=c,s=u;var a=t.alternate;a!==null&&(a=a.updateQueue,o=a.lastBaseUpdate,o!==s&&(o===null?a.firstBaseUpdate=c:o.next=c,a.lastBaseUpdate=u))}if(l!==null){var f=i.baseState;s=0,a=c=u=null,o=l;do{var d=o.lane,p=o.eventTime;if((r&d)===d){a!==null&&(a=a.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,v=o;switch(d=e,p=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(p,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,d=typeof y=="function"?y.call(p,f,d):y,d==null)break e;f=te({},f,d);break e;case 2:jt=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},a===null?(c=a=p,u=f):a=a.next=p,s|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(a===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=a,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else l===null&&(i.shared.lanes=0);kn|=s,t.lanes=s,t.memoizedState=f}}function la(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(E(191,i));i.call(r)}}}var Ci={},pt=rn(Ci),ri=rn(Ci),ii=rn(Ci);function hn(t){if(t===Ci)throw Error(E(174));return t}function ju(t,e){switch(G(ii,e),G(ri,t),G(pt,Ci),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mo(e,t)}Z(pt),G(pt,e)}function sr(){Z(pt),Z(ri),Z(ii)}function Nd(t){hn(ii.current);var e=hn(pt.current),n=mo(e,t.type);e!==n&&(G(ri,t),G(pt,n))}function Au(t){ri.current===t&&(Z(pt),Z(ri))}var q=rn(0);function Pl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Us=[];function Uu(){for(var t=0;t<Us.length;t++)Us[t]._workInProgressVersionPrimary=null;Us.length=0}var ll=Ot.ReactCurrentDispatcher,zs=Ot.ReactCurrentBatchConfig,Sn=0,ee=null,le=null,fe=null,Ml=!1,$r=!1,li=0,wm=0;function Se(){throw Error(E(321))}function zu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!st(t[n],e[n]))return!1;return!0}function Fu(t,e,n,r,i,l){if(Sn=l,ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ll.current=t===null||t.memoizedState===null?Em:_m,t=n(r,i),$r){l=0;do{if($r=!1,li=0,25<=l)throw Error(E(301));l+=1,fe=le=null,e.updateQueue=null,ll.current=xm,t=n(r,i)}while($r)}if(ll.current=Rl,e=le!==null&&le.next!==null,Sn=0,fe=le=ee=null,Ml=!1,e)throw Error(E(300));return t}function $u(){var t=li!==0;return li=0,t}function at(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?ee.memoizedState=fe=t:fe=fe.next=t,fe}function be(){if(le===null){var t=ee.alternate;t=t!==null?t.memoizedState:null}else t=le.next;var e=fe===null?ee.memoizedState:fe.next;if(e!==null)fe=e,le=t;else{if(t===null)throw Error(E(310));le=t,t={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},fe===null?ee.memoizedState=fe=t:fe=fe.next=t}return fe}function si(t,e){return typeof e=="function"?e(t):e}function Fs(t){var e=be(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=le,i=r.baseQueue,l=n.pending;if(l!==null){if(i!==null){var s=i.next;i.next=l.next,l.next=s}r.baseQueue=i=l,n.pending=null}if(i!==null){l=i.next,r=r.baseState;var o=s=null,u=null,c=l;do{var a=c.lane;if((Sn&a)===a)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:a,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=f,s=r):u=u.next=f,ee.lanes|=a,kn|=a}c=c.next}while(c!==null&&c!==l);u===null?s=r:u.next=o,st(r,e.memoizedState)||(Oe=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do l=i.lane,ee.lanes|=l,kn|=l,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $s(t){var e=be(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,l=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do l=t(l,s.action),s=s.next;while(s!==i);st(l,e.memoizedState)||(Oe=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),n.lastRenderedState=l}return[l,r]}function Td(){}function Ld(t,e){var n=ee,r=be(),i=e(),l=!st(r.memoizedState,i);if(l&&(r.memoizedState=i,Oe=!0),r=r.queue,Vu(Md.bind(null,n,r,t),[t]),r.getSnapshot!==e||l||fe!==null&&fe.memoizedState.tag&1){if(n.flags|=2048,oi(9,Pd.bind(null,n,r,i,e),void 0,null),he===null)throw Error(E(349));Sn&30||Od(n,e,i)}return i}function Od(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Pd(t,e,n,r){e.value=n,e.getSnapshot=r,Rd(e)&&Id(t)}function Md(t,e,n){return n(function(){Rd(e)&&Id(t)})}function Rd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!st(t,n)}catch{return!0}}function Id(t){var e=Tt(t,1);e!==null&&it(e,t,1,-1)}function sa(t){var e=at();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:t},e.queue=t,t=t.dispatch=Cm.bind(null,ee,t),[e.memoizedState,t]}function oi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function jd(){return be().memoizedState}function sl(t,e,n,r){var i=at();ee.flags|=t,i.memoizedState=oi(1|e,n,void 0,r===void 0?null:r)}function ns(t,e,n,r){var i=be();r=r===void 0?null:r;var l=void 0;if(le!==null){var s=le.memoizedState;if(l=s.destroy,r!==null&&zu(r,s.deps)){i.memoizedState=oi(e,n,l,r);return}}ee.flags|=t,i.memoizedState=oi(1|e,n,l,r)}function oa(t,e){return sl(8390656,8,t,e)}function Vu(t,e){return ns(2048,8,t,e)}function Ad(t,e){return ns(4,2,t,e)}function Ud(t,e){return ns(4,4,t,e)}function zd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Fd(t,e,n){return n=n!=null?n.concat([t]):null,ns(4,4,zd.bind(null,e,t),n)}function Bu(){}function $d(t,e){var n=be();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Vd(t,e){var n=be();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Bd(t,e,n){return Sn&21?(st(n,e)||(n=Yf(),ee.lanes|=n,kn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Oe=!0),t.memoizedState=n)}function Sm(t,e){var n=K;K=n!==0&&4>n?n:4,t(!0);var r=zs.transition;zs.transition={};try{t(!1),e()}finally{K=n,zs.transition=r}}function Hd(){return be().memoizedState}function km(t,e,n){var r=Jt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Wd(t))Qd(e,n);else if(n=xd(t,e,n,r),n!==null){var i=De();it(n,t,r,i),Kd(n,e,r)}}function Cm(t,e,n){var r=Jt(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wd(t))Qd(e,i);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var s=e.lastRenderedState,o=l(s,n);if(i.hasEagerState=!0,i.eagerState=o,st(o,s)){var u=e.interleaved;u===null?(i.next=i,Ru(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=xd(t,e,i,r),n!==null&&(i=De(),it(n,t,r,i),Kd(n,e,r))}}function Wd(t){var e=t.alternate;return t===ee||e!==null&&e===ee}function Qd(t,e){$r=Ml=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Kd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wu(t,n)}}var Rl={readContext:Ze,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},Em={readContext:Ze,useCallback:function(t,e){return at().memoizedState=[t,e===void 0?null:e],t},useContext:Ze,useEffect:oa,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sl(4194308,4,zd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sl(4194308,4,t,e)},useInsertionEffect:function(t,e){return sl(4,2,t,e)},useMemo:function(t,e){var n=at();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=at();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=km.bind(null,ee,t),[r.memoizedState,t]},useRef:function(t){var e=at();return t={current:t},e.memoizedState=t},useState:sa,useDebugValue:Bu,useDeferredValue:function(t){return at().memoizedState=t},useTransition:function(){var t=sa(!1),e=t[0];return t=Sm.bind(null,t[1]),at().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ee,i=at();if(b){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),he===null)throw Error(E(349));Sn&30||Od(r,e,n)}i.memoizedState=n;var l={value:n,getSnapshot:e};return i.queue=l,oa(Md.bind(null,r,l,t),[t]),r.flags|=2048,oi(9,Pd.bind(null,r,l,n,e),void 0,null),n},useId:function(){var t=at(),e=he.identifierPrefix;if(b){var n=Et,r=Ct;n=(r&~(1<<32-rt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=li++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wm++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_m={readContext:Ze,useCallback:$d,useContext:Ze,useEffect:Vu,useImperativeHandle:Fd,useInsertionEffect:Ad,useLayoutEffect:Ud,useMemo:Vd,useReducer:Fs,useRef:jd,useState:function(){return Fs(si)},useDebugValue:Bu,useDeferredValue:function(t){var e=be();return Bd(e,le.memoizedState,t)},useTransition:function(){var t=Fs(si)[0],e=be().memoizedState;return[t,e]},useMutableSource:Td,useSyncExternalStore:Ld,useId:Hd,unstable_isNewReconciler:!1},xm={readContext:Ze,useCallback:$d,useContext:Ze,useEffect:Vu,useImperativeHandle:Fd,useInsertionEffect:Ad,useLayoutEffect:Ud,useMemo:Vd,useReducer:$s,useRef:jd,useState:function(){return $s(si)},useDebugValue:Bu,useDeferredValue:function(t){var e=be();return le===null?e.memoizedState=t:Bd(e,le.memoizedState,t)},useTransition:function(){var t=$s(si)[0],e=be().memoizedState;return[t,e]},useMutableSource:Td,useSyncExternalStore:Ld,useId:Hd,unstable_isNewReconciler:!1};function et(t,e){if(t&&t.defaultProps){e=te({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Uo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var rs={isMounted:function(t){return(t=t._reactInternals)?Tn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=De(),i=Jt(t),l=_t(r,i);l.payload=e,n!=null&&(l.callback=n),e=Kt(t,l,i),e!==null&&(it(e,t,i,r),il(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=De(),i=Jt(t),l=_t(r,i);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=Kt(t,l,i),e!==null&&(it(e,t,i,r),il(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=De(),r=Jt(t),i=_t(n,r);i.tag=2,e!=null&&(i.callback=e),e=Kt(t,i,r),e!==null&&(it(e,t,r,n),il(e,t,r))}};function ua(t,e,n,r,i,l,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,l,s):e.prototype&&e.prototype.isPureReactComponent?!qr(n,r)||!qr(i,l):!0}function Yd(t,e,n){var r=!1,i=bt,l=e.contextType;return typeof l=="object"&&l!==null?l=Ze(l):(i=Me(e)?vn:_e.current,r=e.contextTypes,l=(r=r!=null)?rr(t,i):bt),e=new e(n,l),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=rs,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=l),e}function ca(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&rs.enqueueReplaceState(e,e.state,null)}function zo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Iu(t);var l=e.contextType;typeof l=="object"&&l!==null?i.context=Ze(l):(l=Me(e)?vn:_e.current,i.context=rr(t,l)),i.state=t.memoizedState,l=e.getDerivedStateFromProps,typeof l=="function"&&(Uo(t,e,l,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&rs.enqueueReplaceState(i,i.state,null),Ol(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function or(t,e){try{var n="",r=e;do n+=qp(r),r=r.return;while(r);var i=n}catch(l){i=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:e,stack:i,digest:null}}function Vs(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Fo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Dm=typeof WeakMap=="function"?WeakMap:Map;function Jd(t,e,n){n=_t(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){jl||(jl=!0,Go=r),Fo(t,e)},n}function Gd(t,e,n){n=_t(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Fo(t,e)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Fo(t,e),typeof r!="function"&&(Yt===null?Yt=new Set([this]):Yt.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function aa(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Dm;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=$m.bind(null,t,e,n),e.then(t,t))}function fa(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function da(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_t(-1,1),e.tag=2,Kt(n,e,1))),n.lanes|=1),t)}var Nm=Ot.ReactCurrentOwner,Oe=!1;function xe(t,e,n,r){e.child=t===null?_d(e,null,n,r):lr(e,t.child,n,r)}function ha(t,e,n,r,i){n=n.render;var l=e.ref;return Xn(e,i),r=Fu(t,e,n,r,l,i),n=$u(),t!==null&&!Oe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lt(t,e,i)):(b&&n&&Nu(e),e.flags|=1,xe(t,e,r,i),e.child)}function pa(t,e,n,r,i){if(t===null){var l=n.type;return typeof l=="function"&&!Xu(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=l,Xd(t,e,l,r,i)):(t=al(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(l=t.child,!(t.lanes&i)){var s=l.memoizedProps;if(n=n.compare,n=n!==null?n:qr,n(s,r)&&t.ref===e.ref)return Lt(t,e,i)}return e.flags|=1,t=Gt(l,r),t.ref=e.ref,t.return=e,e.child=t}function Xd(t,e,n,r,i){if(t!==null){var l=t.memoizedProps;if(qr(l,r)&&t.ref===e.ref)if(Oe=!1,e.pendingProps=r=l,(t.lanes&i)!==0)t.flags&131072&&(Oe=!0);else return e.lanes=t.lanes,Lt(t,e,i)}return $o(t,e,n,r,i)}function Zd(t,e,n){var r=e.pendingProps,i=r.children,l=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(Wn,Ue),Ue|=n;else{if(!(n&1073741824))return t=l!==null?l.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,G(Wn,Ue),Ue|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,G(Wn,Ue),Ue|=r}else l!==null?(r=l.baseLanes|n,e.memoizedState=null):r=n,G(Wn,Ue),Ue|=r;return xe(t,e,i,n),e.child}function bd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $o(t,e,n,r,i){var l=Me(n)?vn:_e.current;return l=rr(e,l),Xn(e,i),n=Fu(t,e,n,r,l,i),r=$u(),t!==null&&!Oe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lt(t,e,i)):(b&&r&&Nu(e),e.flags|=1,xe(t,e,n,i),e.child)}function ga(t,e,n,r,i){if(Me(n)){var l=!0;xl(e)}else l=!1;if(Xn(e,i),e.stateNode===null)ol(t,e),Yd(e,n,r),zo(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ze(c):(c=Me(n)?vn:_e.current,c=rr(e,c));var a=n.getDerivedStateFromProps,f=typeof a=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||u!==c)&&ca(e,s,r,c),jt=!1;var d=e.memoizedState;s.state=d,Ol(e,r,s,i),u=e.memoizedState,o!==r||d!==u||Pe.current||jt?(typeof a=="function"&&(Uo(e,n,a,r),u=e.memoizedState),(o=jt||ua(e,n,o,r,d,u,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Dd(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:et(e.type,o),s.props=c,f=e.pendingProps,d=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ze(u):(u=Me(n)?vn:_e.current,u=rr(e,u));var p=n.getDerivedStateFromProps;(a=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||d!==u)&&ca(e,s,r,u),jt=!1,d=e.memoizedState,s.state=d,Ol(e,r,s,i);var y=e.memoizedState;o!==f||d!==y||Pe.current||jt?(typeof p=="function"&&(Uo(e,n,p,r),y=e.memoizedState),(c=jt||ua(e,n,c,r,d,y,u)||!1)?(a||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Vo(t,e,n,r,l,i)}function Vo(t,e,n,r,i,l){bd(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&ea(e,n,!1),Lt(t,e,l);r=e.stateNode,Nm.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=lr(e,t.child,null,l),e.child=lr(e,null,o,l)):xe(t,e,o,l),e.memoizedState=r.state,i&&ea(e,n,!0),e.child}function qd(t){var e=t.stateNode;e.pendingContext?qc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qc(t,e.context,!1),ju(t,e.containerInfo)}function ma(t,e,n,r,i){return ir(),Lu(i),e.flags|=256,xe(t,e,n,r),e.child}var Bo={dehydrated:null,treeContext:null,retryLane:0};function Ho(t){return{baseLanes:t,cachePool:null,transitions:null}}function eh(t,e,n){var r=e.pendingProps,i=q.current,l=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(l=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),G(q,i&1),t===null)return jo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,l?(r=e.mode,l=e.child,s={mode:"hidden",children:s},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=s):l=ss(s,r,0,null),t=mn(t,r,n,null),l.return=e,t.return=e,l.sibling=t,e.child=l,e.child.memoizedState=Ho(n),e.memoizedState=Bo,t):Hu(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Tm(t,e,s,r,o,i,n);if(l){l=r.fallback,s=e.mode,i=t.child,o=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Gt(i,u),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?l=Gt(o,l):(l=mn(l,s,n,null),l.flags|=2),l.return=e,r.return=e,r.sibling=l,e.child=r,r=l,l=e.child,s=t.child.memoizedState,s=s===null?Ho(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},l.memoizedState=s,l.childLanes=t.childLanes&~n,e.memoizedState=Bo,r}return l=t.child,t=l.sibling,r=Gt(l,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Hu(t,e){return e=ss({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hi(t,e,n,r){return r!==null&&Lu(r),lr(e,t.child,null,n),t=Hu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Tm(t,e,n,r,i,l,s){if(n)return e.flags&256?(e.flags&=-257,r=Vs(Error(E(422))),Hi(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(l=r.fallback,i=e.mode,r=ss({mode:"visible",children:r.children},i,0,null),l=mn(l,i,s,null),l.flags|=2,r.return=e,l.return=e,r.sibling=l,e.child=r,e.mode&1&&lr(e,t.child,null,s),e.child.memoizedState=Ho(s),e.memoizedState=Bo,l);if(!(e.mode&1))return Hi(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,l=Error(E(419)),r=Vs(l,r,void 0),Hi(t,e,s,r)}if(o=(s&t.childLanes)!==0,Oe||o){if(r=he,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==l.retryLane&&(l.retryLane=i,Tt(t,i),it(r,t,i,-1))}return Gu(),r=Vs(Error(E(421))),Hi(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Vm.bind(null,t),i._reactRetry=e,null):(t=l.treeContext,Fe=Qt(i.nextSibling),$e=e,b=!0,nt=null,t!==null&&(Qe[Ke++]=Ct,Qe[Ke++]=Et,Qe[Ke++]=wn,Ct=t.id,Et=t.overflow,wn=e),e=Hu(e,r.children),e.flags|=4096,e)}function ya(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ao(t.return,e,n)}function Bs(t,e,n,r,i){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=i)}function th(t,e,n){var r=e.pendingProps,i=r.revealOrder,l=r.tail;if(xe(t,e,r.children,n),r=q.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ya(t,n,e);else if(t.tag===19)ya(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(G(q,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Pl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Bs(e,!1,i,n,l);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Pl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Bs(e,!0,n,null,l);break;case"together":Bs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ol(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Lt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),kn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=Gt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Lm(t,e,n){switch(e.tag){case 3:qd(e),ir();break;case 5:Nd(e);break;case 1:Me(e.type)&&xl(e);break;case 4:ju(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;G(Tl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(G(q,q.current&1),e.flags|=128,null):n&e.child.childLanes?eh(t,e,n):(G(q,q.current&1),t=Lt(t,e,n),t!==null?t.sibling:null);G(q,q.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return th(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),G(q,q.current),r)break;return null;case 22:case 23:return e.lanes=0,Zd(t,e,n)}return Lt(t,e,n)}var nh,Wo,rh,ih;nh=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wo=function(){};rh=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,hn(pt.current);var l=null;switch(n){case"input":i=fo(t,i),r=fo(t,r),l=[];break;case"select":i=te({},i,{value:void 0}),r=te({},r,{value:void 0}),l=[];break;case"textarea":i=go(t,i),r=go(t,r),l=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=El)}yo(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Kr.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in r){var u=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&o[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(l||(l=[]),l.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(l=l||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(l=l||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Kr.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&X("scroll",t),l||o===u||(l=[])):(l=l||[]).push(c,u))}n&&(l=l||[]).push("style",n);var c=l;(e.updateQueue=c)&&(e.flags|=4)}};ih=function(t,e,n,r){n!==r&&(e.flags|=4)};function Tr(t,e){if(!b)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Om(t,e,n){var r=e.pendingProps;switch(Tu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(e),null;case 1:return Me(e.type)&&_l(),ke(e),null;case 3:return r=e.stateNode,sr(),Z(Pe),Z(_e),Uu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nt!==null&&(bo(nt),nt=null))),Wo(t,e),ke(e),null;case 5:Au(e);var i=hn(ii.current);if(n=e.type,t!==null&&e.stateNode!=null)rh(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return ke(e),null}if(t=hn(pt.current),Vi(e)){r=e.stateNode,n=e.type;var l=e.memoizedProps;switch(r[ft]=e,r[ni]=l,t=(e.mode&1)!==0,n){case"dialog":X("cancel",r),X("close",r);break;case"iframe":case"object":case"embed":X("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)X(Rr[i],r);break;case"source":X("error",r);break;case"img":case"image":case"link":X("error",r),X("load",r);break;case"details":X("toggle",r);break;case"input":Dc(r,l),X("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},X("invalid",r);break;case"textarea":Tc(r,l),X("invalid",r)}yo(n,l),i=null;for(var s in l)if(l.hasOwnProperty(s)){var o=l[s];s==="children"?typeof o=="string"?r.textContent!==o&&(l.suppressHydrationWarning!==!0&&$i(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&$i(r.textContent,o,t),i=["children",""+o]):Kr.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&X("scroll",r)}switch(n){case"input":Mi(r),Nc(r,l,!0);break;case"textarea":Mi(r),Lc(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=El)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Mf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ft]=e,t[ni]=r,nh(t,e,!1,!1),e.stateNode=t;e:{switch(s=vo(n,r),n){case"dialog":X("cancel",t),X("close",t),i=r;break;case"iframe":case"object":case"embed":X("load",t),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)X(Rr[i],t);i=r;break;case"source":X("error",t),i=r;break;case"img":case"image":case"link":X("error",t),X("load",t),i=r;break;case"details":X("toggle",t),i=r;break;case"input":Dc(t,r),i=fo(t,r),X("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=te({},r,{value:void 0}),X("invalid",t);break;case"textarea":Tc(t,r),i=go(t,r),X("invalid",t);break;default:i=r}yo(n,i),o=i;for(l in o)if(o.hasOwnProperty(l)){var u=o[l];l==="style"?jf(t,u):l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Rf(t,u)):l==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Yr(t,u):typeof u=="number"&&Yr(t,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Kr.hasOwnProperty(l)?u!=null&&l==="onScroll"&&X("scroll",t):u!=null&&hu(t,l,u,s))}switch(n){case"input":Mi(t),Nc(t,r,!1);break;case"textarea":Mi(t),Lc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zt(r.value));break;case"select":t.multiple=!!r.multiple,l=r.value,l!=null?Kn(t,!!r.multiple,l,!1):r.defaultValue!=null&&Kn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=El)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ke(e),null;case 6:if(t&&e.stateNode!=null)ih(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=hn(ii.current),hn(pt.current),Vi(e)){if(r=e.stateNode,n=e.memoizedProps,r[ft]=e,(l=r.nodeValue!==n)&&(t=$e,t!==null))switch(t.tag){case 3:$i(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$i(r.nodeValue,n,(t.mode&1)!==0)}l&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ft]=e,e.stateNode=r}return ke(e),null;case 13:if(Z(q),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(b&&Fe!==null&&e.mode&1&&!(e.flags&128))Cd(),ir(),e.flags|=98560,l=!1;else if(l=Vi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!l)throw Error(E(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(E(317));l[ft]=e}else ir(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ke(e),l=!1}else nt!==null&&(bo(nt),nt=null),l=!0;if(!l)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||q.current&1?se===0&&(se=3):Gu())),e.updateQueue!==null&&(e.flags|=4),ke(e),null);case 4:return sr(),Wo(t,e),t===null&&ei(e.stateNode.containerInfo),ke(e),null;case 10:return Mu(e.type._context),ke(e),null;case 17:return Me(e.type)&&_l(),ke(e),null;case 19:if(Z(q),l=e.memoizedState,l===null)return ke(e),null;if(r=(e.flags&128)!==0,s=l.rendering,s===null)if(r)Tr(l,!1);else{if(se!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Pl(t),s!==null){for(e.flags|=128,Tr(l,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)l=n,t=r,l.flags&=14680066,s=l.alternate,s===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,l.type=s.type,t=s.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return G(q,q.current&1|2),e.child}t=t.sibling}l.tail!==null&&re()>ur&&(e.flags|=128,r=!0,Tr(l,!1),e.lanes=4194304)}else{if(!r)if(t=Pl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Tr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!b)return ke(e),null}else 2*re()-l.renderingStartTime>ur&&n!==1073741824&&(e.flags|=128,r=!0,Tr(l,!1),e.lanes=4194304);l.isBackwards?(s.sibling=e.child,e.child=s):(n=l.last,n!==null?n.sibling=s:e.child=s,l.last=s)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=re(),e.sibling=null,n=q.current,G(q,r?n&1|2:n&1),e):(ke(e),null);case 22:case 23:return Ju(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ue&1073741824&&(ke(e),e.subtreeFlags&6&&(e.flags|=8192)):ke(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function Pm(t,e){switch(Tu(e),e.tag){case 1:return Me(e.type)&&_l(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sr(),Z(Pe),Z(_e),Uu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Au(e),null;case 13:if(Z(q),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));ir()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Z(q),null;case 4:return sr(),null;case 10:return Mu(e.type._context),null;case 22:case 23:return Ju(),null;case 24:return null;default:return null}}var Wi=!1,Ce=!1,Mm=typeof WeakSet=="function"?WeakSet:Set,P=null;function Hn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ne(t,e,r)}else n.current=null}function Qo(t,e,n){try{n()}catch(r){ne(t,e,r)}}var va=!1;function Rm(t,e){if(To=Sl,t=cd(),Du(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var s=0,o=-1,u=-1,c=0,a=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==l||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++c===i&&(o=s),d===l&&++a===r&&(u=s),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lo={focusedElem:t,selectionRange:n},Sl=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,x=y.memoizedState,m=e.stateNode,h=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:et(e.type,v),x);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(w){ne(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return y=va,va=!1,y}function Vr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var l=i.destroy;i.destroy=void 0,l!==void 0&&Qo(e,n,l)}i=i.next}while(i!==r)}}function is(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ko(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function lh(t){var e=t.alternate;e!==null&&(t.alternate=null,lh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ft],delete e[ni],delete e[Mo],delete e[gm],delete e[mm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sh(t){return t.tag===5||t.tag===3||t.tag===4}function wa(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=El));else if(r!==4&&(t=t.child,t!==null))for(Yo(t,e,n),t=t.sibling;t!==null;)Yo(t,e,n),t=t.sibling}function Jo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jo(t,e,n),t=t.sibling;t!==null;)Jo(t,e,n),t=t.sibling}var me=null,tt=!1;function Rt(t,e,n){for(n=n.child;n!==null;)oh(t,e,n),n=n.sibling}function oh(t,e,n){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(Xl,n)}catch{}switch(n.tag){case 5:Ce||Hn(n,e);case 6:var r=me,i=tt;me=null,Rt(t,e,n),me=r,tt=i,me!==null&&(tt?(t=me,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):me.removeChild(n.stateNode));break;case 18:me!==null&&(tt?(t=me,n=n.stateNode,t.nodeType===8?js(t.parentNode,n):t.nodeType===1&&js(t,n),Zr(t)):js(me,n.stateNode));break;case 4:r=me,i=tt,me=n.stateNode.containerInfo,tt=!0,Rt(t,e,n),me=r,tt=i;break;case 0:case 11:case 14:case 15:if(!Ce&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var l=i,s=l.destroy;l=l.tag,s!==void 0&&(l&2||l&4)&&Qo(n,e,s),i=i.next}while(i!==r)}Rt(t,e,n);break;case 1:if(!Ce&&(Hn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ne(n,e,o)}Rt(t,e,n);break;case 21:Rt(t,e,n);break;case 22:n.mode&1?(Ce=(r=Ce)||n.memoizedState!==null,Rt(t,e,n),Ce=r):Rt(t,e,n);break;default:Rt(t,e,n)}}function Sa(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Mm),e.forEach(function(r){var i=Bm.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qe(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var l=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:me=o.stateNode,tt=!1;break e;case 3:me=o.stateNode.containerInfo,tt=!0;break e;case 4:me=o.stateNode.containerInfo,tt=!0;break e}o=o.return}if(me===null)throw Error(E(160));oh(l,s,i),me=null,tt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){ne(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uh(e,t),e=e.sibling}function uh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qe(e,t),ut(t),r&4){try{Vr(3,t,t.return),is(3,t)}catch(v){ne(t,t.return,v)}try{Vr(5,t,t.return)}catch(v){ne(t,t.return,v)}}break;case 1:qe(e,t),ut(t),r&512&&n!==null&&Hn(n,n.return);break;case 5:if(qe(e,t),ut(t),r&512&&n!==null&&Hn(n,n.return),t.flags&32){var i=t.stateNode;try{Yr(i,"")}catch(v){ne(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var l=t.memoizedProps,s=n!==null?n.memoizedProps:l,o=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&Of(i,l),vo(o,s);var c=vo(o,l);for(s=0;s<u.length;s+=2){var a=u[s],f=u[s+1];a==="style"?jf(i,f):a==="dangerouslySetInnerHTML"?Rf(i,f):a==="children"?Yr(i,f):hu(i,a,f,c)}switch(o){case"input":ho(i,l);break;case"textarea":Pf(i,l);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var p=l.value;p!=null?Kn(i,!!l.multiple,p,!1):d!==!!l.multiple&&(l.defaultValue!=null?Kn(i,!!l.multiple,l.defaultValue,!0):Kn(i,!!l.multiple,l.multiple?[]:"",!1))}i[ni]=l}catch(v){ne(t,t.return,v)}}break;case 6:if(qe(e,t),ut(t),r&4){if(t.stateNode===null)throw Error(E(162));i=t.stateNode,l=t.memoizedProps;try{i.nodeValue=l}catch(v){ne(t,t.return,v)}}break;case 3:if(qe(e,t),ut(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zr(e.containerInfo)}catch(v){ne(t,t.return,v)}break;case 4:qe(e,t),ut(t);break;case 13:qe(e,t),ut(t),i=t.child,i.flags&8192&&(l=i.memoizedState!==null,i.stateNode.isHidden=l,!l||i.alternate!==null&&i.alternate.memoizedState!==null||(Ku=re())),r&4&&Sa(t);break;case 22:if(a=n!==null&&n.memoizedState!==null,t.mode&1?(Ce=(c=Ce)||a,qe(e,t),Ce=c):qe(e,t),ut(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!a&&t.mode&1)for(P=t,a=t.child;a!==null;){for(f=P=a;P!==null;){switch(d=P,p=d.child,d.tag){case 0:case 11:case 14:case 15:Vr(4,d,d.return);break;case 1:Hn(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){ne(r,n,v)}}break;case 5:Hn(d,d.return);break;case 22:if(d.memoizedState!==null){Ca(f);continue}}p!==null?(p.return=d,P=p):Ca(f)}a=a.sibling}e:for(a=null,f=t;;){if(f.tag===5){if(a===null){a=f;try{i=f.stateNode,c?(l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=If("display",s))}catch(v){ne(t,t.return,v)}}}else if(f.tag===6){if(a===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){ne(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;a===f&&(a=null),f=f.return}a===f&&(a=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qe(e,t),ut(t),r&4&&Sa(t);break;case 21:break;default:qe(e,t),ut(t)}}function ut(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sh(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yr(i,""),r.flags&=-33);var l=wa(t);Jo(t,l,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=wa(t);Yo(t,o,s);break;default:throw Error(E(161))}}catch(u){ne(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Im(t,e,n){P=t,ch(t)}function ch(t,e,n){for(var r=(t.mode&1)!==0;P!==null;){var i=P,l=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Wi;if(!s){var o=i.alternate,u=o!==null&&o.memoizedState!==null||Ce;o=Wi;var c=Ce;if(Wi=s,(Ce=u)&&!c)for(P=i;P!==null;)s=P,u=s.child,s.tag===22&&s.memoizedState!==null?Ea(i):u!==null?(u.return=s,P=u):Ea(i);for(;l!==null;)P=l,ch(l),l=l.sibling;P=i,Wi=o,Ce=c}ka(t)}else i.subtreeFlags&8772&&l!==null?(l.return=i,P=l):ka(t)}}function ka(t){for(;P!==null;){var e=P;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ce||is(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ce)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:et(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=e.updateQueue;l!==null&&la(e,l,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}la(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var a=c.memoizedState;if(a!==null){var f=a.dehydrated;f!==null&&Zr(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Ce||e.flags&512&&Ko(e)}catch(d){ne(e,e.return,d)}}if(e===t){P=null;break}if(n=e.sibling,n!==null){n.return=e.return,P=n;break}P=e.return}}function Ca(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var n=e.sibling;if(n!==null){n.return=e.return,P=n;break}P=e.return}}function Ea(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{is(4,e)}catch(u){ne(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){ne(e,i,u)}}var l=e.return;try{Ko(e)}catch(u){ne(e,l,u)}break;case 5:var s=e.return;try{Ko(e)}catch(u){ne(e,s,u)}}}catch(u){ne(e,e.return,u)}if(e===t){P=null;break}var o=e.sibling;if(o!==null){o.return=e.return,P=o;break}P=e.return}}var jm=Math.ceil,Il=Ot.ReactCurrentDispatcher,Wu=Ot.ReactCurrentOwner,Xe=Ot.ReactCurrentBatchConfig,W=0,he=null,ie=null,ye=0,Ue=0,Wn=rn(0),se=0,ui=null,kn=0,ls=0,Qu=0,Br=null,Le=null,Ku=0,ur=1/0,St=null,jl=!1,Go=null,Yt=null,Qi=!1,$t=null,Al=0,Hr=0,Xo=null,ul=-1,cl=0;function De(){return W&6?re():ul!==-1?ul:ul=re()}function Jt(t){return t.mode&1?W&2&&ye!==0?ye&-ye:vm.transition!==null?(cl===0&&(cl=Yf()),cl):(t=K,t!==0||(t=window.event,t=t===void 0?16:ed(t.type)),t):1}function it(t,e,n,r){if(50<Hr)throw Hr=0,Xo=null,Error(E(185));wi(t,n,r),(!(W&2)||t!==he)&&(t===he&&(!(W&2)&&(ls|=n),se===4&&Ut(t,ye)),Re(t,r),n===1&&W===0&&!(e.mode&1)&&(ur=re()+500,ts&&ln()))}function Re(t,e){var n=t.callbackNode;vg(t,e);var r=wl(t,t===he?ye:0);if(r===0)n!==null&&Mc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Mc(n),e===1)t.tag===0?ym(_a.bind(null,t)):wd(_a.bind(null,t)),hm(function(){!(W&6)&&ln()}),n=null;else{switch(Jf(r)){case 1:n=vu;break;case 4:n=Qf;break;case 16:n=vl;break;case 536870912:n=Kf;break;default:n=vl}n=yh(n,ah.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ah(t,e){if(ul=-1,cl=0,W&6)throw Error(E(327));var n=t.callbackNode;if(Zn()&&t.callbackNode!==n)return null;var r=wl(t,t===he?ye:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ul(t,r);else{e=r;var i=W;W|=2;var l=dh();(he!==t||ye!==e)&&(St=null,ur=re()+500,gn(t,e));do try{zm();break}catch(o){fh(t,o)}while(!0);Pu(),Il.current=l,W=i,ie!==null?e=0:(he=null,ye=0,e=se)}if(e!==0){if(e===2&&(i=Eo(t),i!==0&&(r=i,e=Zo(t,i))),e===1)throw n=ui,gn(t,0),Ut(t,r),Re(t,re()),n;if(e===6)Ut(t,r);else{if(i=t.current.alternate,!(r&30)&&!Am(i)&&(e=Ul(t,r),e===2&&(l=Eo(t),l!==0&&(r=l,e=Zo(t,l))),e===1))throw n=ui,gn(t,0),Ut(t,r),Re(t,re()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:cn(t,Le,St);break;case 3:if(Ut(t,r),(r&130023424)===r&&(e=Ku+500-re(),10<e)){if(wl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){De(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Po(cn.bind(null,t,Le,St),e);break}cn(t,Le,St);break;case 4:if(Ut(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-rt(r);l=1<<s,s=e[s],s>i&&(i=s),r&=~l}if(r=i,r=re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jm(r/1960))-r,10<r){t.timeoutHandle=Po(cn.bind(null,t,Le,St),r);break}cn(t,Le,St);break;case 5:cn(t,Le,St);break;default:throw Error(E(329))}}}return Re(t,re()),t.callbackNode===n?ah.bind(null,t):null}function Zo(t,e){var n=Br;return t.current.memoizedState.isDehydrated&&(gn(t,e).flags|=256),t=Ul(t,e),t!==2&&(e=Le,Le=n,e!==null&&bo(e)),t}function bo(t){Le===null?Le=t:Le.push.apply(Le,t)}function Am(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],l=i.getSnapshot;i=i.value;try{if(!st(l(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ut(t,e){for(e&=~Qu,e&=~ls,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-rt(e),r=1<<n;t[n]=-1,e&=~r}}function _a(t){if(W&6)throw Error(E(327));Zn();var e=wl(t,0);if(!(e&1))return Re(t,re()),null;var n=Ul(t,e);if(t.tag!==0&&n===2){var r=Eo(t);r!==0&&(e=r,n=Zo(t,r))}if(n===1)throw n=ui,gn(t,0),Ut(t,e),Re(t,re()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,cn(t,Le,St),Re(t,re()),null}function Yu(t,e){var n=W;W|=1;try{return t(e)}finally{W=n,W===0&&(ur=re()+500,ts&&ln())}}function Cn(t){$t!==null&&$t.tag===0&&!(W&6)&&Zn();var e=W;W|=1;var n=Xe.transition,r=K;try{if(Xe.transition=null,K=1,t)return t()}finally{K=r,Xe.transition=n,W=e,!(W&6)&&ln()}}function Ju(){Ue=Wn.current,Z(Wn)}function gn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dm(n)),ie!==null)for(n=ie.return;n!==null;){var r=n;switch(Tu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_l();break;case 3:sr(),Z(Pe),Z(_e),Uu();break;case 5:Au(r);break;case 4:sr();break;case 13:Z(q);break;case 19:Z(q);break;case 10:Mu(r.type._context);break;case 22:case 23:Ju()}n=n.return}if(he=t,ie=t=Gt(t.current,null),ye=Ue=e,se=0,ui=null,Qu=ls=kn=0,Le=Br=null,dn!==null){for(e=0;e<dn.length;e++)if(n=dn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,l=n.pending;if(l!==null){var s=l.next;l.next=i,r.next=s}n.pending=r}dn=null}return t}function fh(t,e){do{var n=ie;try{if(Pu(),ll.current=Rl,Ml){for(var r=ee.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ml=!1}if(Sn=0,fe=le=ee=null,$r=!1,li=0,Wu.current=null,n===null||n.return===null){se=1,ui=e,ie=null;break}e:{var l=t,s=n.return,o=n,u=e;if(e=ye,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,a=o,f=a.tag;if(!(a.mode&1)&&(f===0||f===11||f===15)){var d=a.alternate;d?(a.updateQueue=d.updateQueue,a.memoizedState=d.memoizedState,a.lanes=d.lanes):(a.updateQueue=null,a.memoizedState=null)}var p=fa(s);if(p!==null){p.flags&=-257,da(p,s,o,l,e),p.mode&1&&aa(l,c,e),e=p,u=c;var y=e.updateQueue;if(y===null){var v=new Set;v.add(u),e.updateQueue=v}else y.add(u);break e}else{if(!(e&1)){aa(l,c,e),Gu();break e}u=Error(E(426))}}else if(b&&o.mode&1){var x=fa(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),da(x,s,o,l,e),Lu(or(u,o));break e}}l=u=or(u,o),se!==4&&(se=2),Br===null?Br=[l]:Br.push(l),l=s;do{switch(l.tag){case 3:l.flags|=65536,e&=-e,l.lanes|=e;var m=Jd(l,u,e);ia(l,m);break e;case 1:o=u;var h=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Yt===null||!Yt.has(g)))){l.flags|=65536,e&=-e,l.lanes|=e;var w=Gd(l,o,e);ia(l,w);break e}}l=l.return}while(l!==null)}ph(n)}catch(k){e=k,ie===n&&n!==null&&(ie=n=n.return);continue}break}while(!0)}function dh(){var t=Il.current;return Il.current=Rl,t===null?Rl:t}function Gu(){(se===0||se===3||se===2)&&(se=4),he===null||!(kn&268435455)&&!(ls&268435455)||Ut(he,ye)}function Ul(t,e){var n=W;W|=2;var r=dh();(he!==t||ye!==e)&&(St=null,gn(t,e));do try{Um();break}catch(i){fh(t,i)}while(!0);if(Pu(),W=n,Il.current=r,ie!==null)throw Error(E(261));return he=null,ye=0,se}function Um(){for(;ie!==null;)hh(ie)}function zm(){for(;ie!==null&&!cg();)hh(ie)}function hh(t){var e=mh(t.alternate,t,Ue);t.memoizedProps=t.pendingProps,e===null?ph(t):ie=e,Wu.current=null}function ph(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Pm(n,e),n!==null){n.flags&=32767,ie=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{se=6,ie=null;return}}else if(n=Om(n,e,Ue),n!==null){ie=n;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=t}while(e!==null);se===0&&(se=5)}function cn(t,e,n){var r=K,i=Xe.transition;try{Xe.transition=null,K=1,Fm(t,e,n,r)}finally{Xe.transition=i,K=r}return null}function Fm(t,e,n,r){do Zn();while($t!==null);if(W&6)throw Error(E(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var l=n.lanes|n.childLanes;if(wg(t,l),t===he&&(ie=he=null,ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qi||(Qi=!0,yh(vl,function(){return Zn(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Xe.transition,Xe.transition=null;var s=K;K=1;var o=W;W|=4,Wu.current=null,Rm(t,n),uh(n,t),lm(Lo),Sl=!!To,Lo=To=null,t.current=n,Im(n),ag(),W=o,K=s,Xe.transition=l}else t.current=n;if(Qi&&(Qi=!1,$t=t,Al=i),l=t.pendingLanes,l===0&&(Yt=null),hg(n.stateNode),Re(t,re()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jl)throw jl=!1,t=Go,Go=null,t;return Al&1&&t.tag!==0&&Zn(),l=t.pendingLanes,l&1?t===Xo?Hr++:(Hr=0,Xo=t):Hr=0,ln(),null}function Zn(){if($t!==null){var t=Jf(Al),e=Xe.transition,n=K;try{if(Xe.transition=null,K=16>t?16:t,$t===null)var r=!1;else{if(t=$t,$t=null,Al=0,W&6)throw Error(E(331));var i=W;for(W|=4,P=t.current;P!==null;){var l=P,s=l.child;if(P.flags&16){var o=l.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(P=c;P!==null;){var a=P;switch(a.tag){case 0:case 11:case 15:Vr(8,a,l)}var f=a.child;if(f!==null)f.return=a,P=f;else for(;P!==null;){a=P;var d=a.sibling,p=a.return;if(lh(a),a===c){P=null;break}if(d!==null){d.return=p,P=d;break}P=p}}}var y=l.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}P=l}}if(l.subtreeFlags&2064&&s!==null)s.return=l,P=s;else e:for(;P!==null;){if(l=P,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Vr(9,l,l.return)}var m=l.sibling;if(m!==null){m.return=l.return,P=m;break e}P=l.return}}var h=t.current;for(P=h;P!==null;){s=P;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,P=g;else e:for(s=h;P!==null;){if(o=P,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:is(9,o)}}catch(k){ne(o,o.return,k)}if(o===s){P=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,P=w;break e}P=o.return}}if(W=i,ln(),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(Xl,t)}catch{}r=!0}return r}finally{K=n,Xe.transition=e}}return!1}function xa(t,e,n){e=or(n,e),e=Jd(t,e,1),t=Kt(t,e,1),e=De(),t!==null&&(wi(t,1,e),Re(t,e))}function ne(t,e,n){if(t.tag===3)xa(t,t,n);else for(;e!==null;){if(e.tag===3){xa(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yt===null||!Yt.has(r))){t=or(n,t),t=Gd(e,t,1),e=Kt(e,t,1),t=De(),e!==null&&(wi(e,1,t),Re(e,t));break}}e=e.return}}function $m(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=De(),t.pingedLanes|=t.suspendedLanes&n,he===t&&(ye&n)===n&&(se===4||se===3&&(ye&130023424)===ye&&500>re()-Ku?gn(t,0):Qu|=n),Re(t,e)}function gh(t,e){e===0&&(t.mode&1?(e=ji,ji<<=1,!(ji&130023424)&&(ji=4194304)):e=1);var n=De();t=Tt(t,e),t!==null&&(wi(t,e,n),Re(t,n))}function Vm(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gh(t,n)}function Bm(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),gh(t,n)}var mh;mh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pe.current)Oe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Oe=!1,Lm(t,e,n);Oe=!!(t.flags&131072)}else Oe=!1,b&&e.flags&1048576&&Sd(e,Nl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ol(t,e),t=e.pendingProps;var i=rr(e,_e.current);Xn(e,n),i=Fu(null,e,r,t,i,n);var l=$u();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Me(r)?(l=!0,xl(e)):l=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Iu(e),i.updater=rs,e.stateNode=i,i._reactInternals=e,zo(e,r,t,n),e=Vo(null,e,r,!0,l,n)):(e.tag=0,b&&l&&Nu(e),xe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ol(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Wm(r),t=et(r,t),i){case 0:e=$o(null,e,r,t,n);break e;case 1:e=ga(null,e,r,t,n);break e;case 11:e=ha(null,e,r,t,n);break e;case 14:e=pa(null,e,r,et(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:et(r,i),$o(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:et(r,i),ga(t,e,r,i,n);case 3:e:{if(qd(e),t===null)throw Error(E(387));r=e.pendingProps,l=e.memoizedState,i=l.element,Dd(t,e),Ol(e,r,null,n);var s=e.memoizedState;if(r=s.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){i=or(Error(E(423)),e),e=ma(t,e,r,n,i);break e}else if(r!==i){i=or(Error(E(424)),e),e=ma(t,e,r,n,i);break e}else for(Fe=Qt(e.stateNode.containerInfo.firstChild),$e=e,b=!0,nt=null,n=_d(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ir(),r===i){e=Lt(t,e,n);break e}xe(t,e,r,n)}e=e.child}return e;case 5:return Nd(e),t===null&&jo(e),r=e.type,i=e.pendingProps,l=t!==null?t.memoizedProps:null,s=i.children,Oo(r,i)?s=null:l!==null&&Oo(r,l)&&(e.flags|=32),bd(t,e),xe(t,e,s,n),e.child;case 6:return t===null&&jo(e),null;case 13:return eh(t,e,n);case 4:return ju(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=lr(e,null,r,n):xe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:et(r,i),ha(t,e,r,i,n);case 7:return xe(t,e,e.pendingProps,n),e.child;case 8:return xe(t,e,e.pendingProps.children,n),e.child;case 12:return xe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,l=e.memoizedProps,s=i.value,G(Tl,r._currentValue),r._currentValue=s,l!==null)if(st(l.value,s)){if(l.children===i.children&&!Pe.current){e=Lt(t,e,n);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var o=l.dependencies;if(o!==null){s=l.child;for(var u=o.firstContext;u!==null;){if(u.context===r){if(l.tag===1){u=_t(-1,n&-n),u.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var a=c.pending;a===null?u.next=u:(u.next=a.next,a.next=u),c.pending=u}}l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Ao(l.return,n,e),o.lanes|=n;break}u=u.next}}else if(l.tag===10)s=l.type===e.type?null:l.child;else if(l.tag===18){if(s=l.return,s===null)throw Error(E(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Ao(s,n,e),s=l.sibling}else s=l.child;if(s!==null)s.return=l;else for(s=l;s!==null;){if(s===e){s=null;break}if(l=s.sibling,l!==null){l.return=s.return,s=l;break}s=s.return}l=s}xe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xn(e,n),i=Ze(i),r=r(i),e.flags|=1,xe(t,e,r,n),e.child;case 14:return r=e.type,i=et(r,e.pendingProps),i=et(r.type,i),pa(t,e,r,i,n);case 15:return Xd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:et(r,i),ol(t,e),e.tag=1,Me(r)?(t=!0,xl(e)):t=!1,Xn(e,n),Yd(e,r,i),zo(e,r,i,n),Vo(null,e,r,!0,t,n);case 19:return th(t,e,n);case 22:return Zd(t,e,n)}throw Error(E(156,e.tag))};function yh(t,e){return Wf(t,e)}function Hm(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(t,e,n,r){return new Hm(t,e,n,r)}function Xu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wm(t){if(typeof t=="function")return Xu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gu)return 11;if(t===mu)return 14}return 2}function Gt(t,e){var n=t.alternate;return n===null?(n=Ge(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function al(t,e,n,r,i,l){var s=2;if(r=t,typeof t=="function")Xu(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case In:return mn(n.children,i,l,e);case pu:s=8,i|=8;break;case oo:return t=Ge(12,n,e,i|2),t.elementType=oo,t.lanes=l,t;case uo:return t=Ge(13,n,e,i),t.elementType=uo,t.lanes=l,t;case co:return t=Ge(19,n,e,i),t.elementType=co,t.lanes=l,t;case Nf:return ss(n,i,l,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xf:s=10;break e;case Df:s=9;break e;case gu:s=11;break e;case mu:s=14;break e;case It:s=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Ge(s,n,e,i),e.elementType=t,e.type=r,e.lanes=l,e}function mn(t,e,n,r){return t=Ge(7,t,r,e),t.lanes=n,t}function ss(t,e,n,r){return t=Ge(22,t,r,e),t.elementType=Nf,t.lanes=n,t.stateNode={isHidden:!1},t}function Hs(t,e,n){return t=Ge(6,t,null,e),t.lanes=n,t}function Ws(t,e,n){return e=Ge(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Qm(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_s(0),this.expirationTimes=_s(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_s(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zu(t,e,n,r,i,l,s,o,u){return t=new Qm(t,e,n,o,u),e===1?(e=1,l===!0&&(e|=8)):e=0,l=Ge(3,null,null,e),t.current=l,l.stateNode=t,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Iu(l),t}function Km(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function vh(t){if(!t)return bt;t=t._reactInternals;e:{if(Tn(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Me(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(Me(n))return vd(t,n,e)}return e}function wh(t,e,n,r,i,l,s,o,u){return t=Zu(n,r,!0,t,i,l,s,o,u),t.context=vh(null),n=t.current,r=De(),i=Jt(n),l=_t(r,i),l.callback=e??null,Kt(n,l,i),t.current.lanes=i,wi(t,i,r),Re(t,r),t}function os(t,e,n,r){var i=e.current,l=De(),s=Jt(i);return n=vh(n),e.context===null?e.context=n:e.pendingContext=n,e=_t(l,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Kt(i,e,s),t!==null&&(it(t,i,s,l),il(t,i,s)),s}function zl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Da(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bu(t,e){Da(t,e),(t=t.alternate)&&Da(t,e)}function Ym(){return null}var Sh=typeof reportError=="function"?reportError:function(t){console.error(t)};function qu(t){this._internalRoot=t}us.prototype.render=qu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));os(t,e,null,null)};us.prototype.unmount=qu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cn(function(){os(null,t,null,null)}),e[Nt]=null}};function us(t){this._internalRoot=t}us.prototype.unstable_scheduleHydration=function(t){if(t){var e=Zf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<At.length&&e!==0&&e<At[n].priority;n++);At.splice(n,0,t),n===0&&qf(t)}};function ec(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cs(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Na(){}function Jm(t,e,n,r,i){if(i){if(typeof r=="function"){var l=r;r=function(){var c=zl(s);l.call(c)}}var s=wh(e,r,t,0,null,!1,!1,"",Na);return t._reactRootContainer=s,t[Nt]=s.current,ei(t.nodeType===8?t.parentNode:t),Cn(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=zl(u);o.call(c)}}var u=Zu(t,0,!1,null,null,!1,!1,"",Na);return t._reactRootContainer=u,t[Nt]=u.current,ei(t.nodeType===8?t.parentNode:t),Cn(function(){os(e,u,n,r)}),u}function as(t,e,n,r,i){var l=n._reactRootContainer;if(l){var s=l;if(typeof i=="function"){var o=i;i=function(){var u=zl(s);o.call(u)}}os(e,s,t,i)}else s=Jm(n,e,t,i,r);return zl(s)}Gf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Mr(e.pendingLanes);n!==0&&(wu(e,n|1),Re(e,re()),!(W&6)&&(ur=re()+500,ln()))}break;case 13:Cn(function(){var r=Tt(t,1);if(r!==null){var i=De();it(r,t,1,i)}}),bu(t,1)}};Su=function(t){if(t.tag===13){var e=Tt(t,134217728);if(e!==null){var n=De();it(e,t,134217728,n)}bu(t,134217728)}};Xf=function(t){if(t.tag===13){var e=Jt(t),n=Tt(t,e);if(n!==null){var r=De();it(n,t,e,r)}bu(t,e)}};Zf=function(){return K};bf=function(t,e){var n=K;try{return K=t,e()}finally{K=n}};So=function(t,e,n){switch(e){case"input":if(ho(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=es(r);if(!i)throw Error(E(90));Lf(r),ho(r,i)}}}break;case"textarea":Pf(t,n);break;case"select":e=n.value,e!=null&&Kn(t,!!n.multiple,e,!1)}};zf=Yu;Ff=Cn;var Gm={usingClientEntryPoint:!1,Events:[ki,zn,es,Af,Uf,Yu]},Lr={findFiberByHostInstance:fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xm={bundleType:Lr.bundleType,version:Lr.version,rendererPackageName:Lr.rendererPackageName,rendererConfig:Lr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ot.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Bf(t),t===null?null:t.stateNode},findFiberByHostInstance:Lr.findFiberByHostInstance||Ym,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ki=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ki.isDisabled&&Ki.supportsFiber)try{Xl=Ki.inject(Xm),ht=Ki}catch{}}He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gm;He.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ec(e))throw Error(E(200));return Km(t,e,null,n)};He.createRoot=function(t,e){if(!ec(t))throw Error(E(299));var n=!1,r="",i=Sh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Zu(t,1,!1,null,null,n,!1,r,i),t[Nt]=e.current,ei(t.nodeType===8?t.parentNode:t),new qu(e)};He.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Bf(e),t=t===null?null:t.stateNode,t};He.flushSync=function(t){return Cn(t)};He.hydrate=function(t,e,n){if(!cs(e))throw Error(E(200));return as(null,t,e,!0,n)};He.hydrateRoot=function(t,e,n){if(!ec(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,i=!1,l="",s=Sh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=wh(e,null,t,1,n??null,i,!1,l,s),t[Nt]=e.current,ei(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new us(e)};He.render=function(t,e,n){if(!cs(e))throw Error(E(200));return as(null,t,e,!1,n)};He.unmountComponentAtNode=function(t){if(!cs(t))throw Error(E(40));return t._reactRootContainer?(Cn(function(){as(null,null,t,!1,function(){t._reactRootContainer=null,t[Nt]=null})}),!0):!1};He.unstable_batchedUpdates=Yu;He.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!cs(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return as(t,e,n,!1,r)};He.version="18.3.1-next-f1338f8080-20240426";function kh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kh)}catch(t){console.error(t)}}kh(),kf.exports=He;var Zm=kf.exports,Ta=Zm;lo.createRoot=Ta.createRoot,lo.hydrateRoot=Ta.hydrateRoot;function bm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function La(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?La(Object(n),!0).forEach(function(r){bm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):La(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qm(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,l;for(l=0;l<r.length;l++)i=r[l],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ey(t,e){if(t==null)return{};var n=qm(t,e),r,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)r=l[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ty(t,e){return ny(t)||ry(t,e)||iy(t,e)||ly()}function ny(t){if(Array.isArray(t))return t}function ry(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,l=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(u){i=!0,l=u}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw l}}return n}}function iy(t,e){if(t){if(typeof t=="string")return Pa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pa(t,e)}}function Pa(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ly(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ma(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ma(Object(n),!0).forEach(function(r){sy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ma(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oy(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduceRight(function(i,l){return l(i)},r)}}function Ir(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return i.length>=t.length?t.apply(this,i):function(){for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return e.apply(n,[].concat(i,o))}}}function Fl(t){return{}.toString.call(t).includes("Object")}function uy(t){return!Object.keys(t).length}function ci(t){return typeof t=="function"}function cy(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ay(t,e){return Fl(e)||Xt("changeType"),Object.keys(e).some(function(n){return!cy(t,n)})&&Xt("changeField"),e}function fy(t){ci(t)||Xt("selectorType")}function dy(t){ci(t)||Fl(t)||Xt("handlerType"),Fl(t)&&Object.values(t).some(function(e){return!ci(e)})&&Xt("handlersType")}function hy(t){t||Xt("initialIsRequired"),Fl(t)||Xt("initialType"),uy(t)&&Xt("initialContent")}function py(t,e){throw new Error(t[e]||t.default)}var gy={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Xt=Ir(py)(gy),Yi={changes:ay,selector:fy,handler:dy,initial:hy};function my(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Yi.initial(t),Yi.handler(e);var n={current:t},r=Ir(wy)(n,e),i=Ir(vy)(n),l=Ir(Yi.changes)(t),s=Ir(yy)(n);function o(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(a){return a};return Yi.selector(c),c(n.current)}function u(c){oy(r,i,l,s)(c)}return[o,u]}function yy(t,e){return ci(e)?e(t.current):e}function vy(t,e){return t.current=Ra(Ra({},t.current),e),e}function wy(t,e,n){return ci(e)?e(t.current):Object.keys(n).forEach(function(r){var i;return(i=e[r])===null||i===void 0?void 0:i.call(e,t.current[r])}),n}var Sy={create:my},ky={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function Cy(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return i.length>=t.length?t.apply(this,i):function(){for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return e.apply(n,[].concat(i,o))}}}function Ey(t){return{}.toString.call(t).includes("Object")}function _y(t){return t||Ia("configIsRequired"),Ey(t)||Ia("configType"),t.urls?(xy(),{paths:{vs:t.urls.monacoBase}}):t}function xy(){console.warn(Ch.deprecation)}function Dy(t,e){throw new Error(t[e]||t.default)}var Ch={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Ia=Cy(Dy)(Ch),Ny={config:_y},Ty=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(l,s){return s(l)},i)}};function Eh(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],Eh(t[n],e[n]))}),Oa(Oa({},t),e)}var Ly={type:"cancelation",msg:"operation is manually canceled"};function Qs(t){var e=!1,n=new Promise(function(r,i){t.then(function(l){return e?i(Ly):r(l)}),t.catch(i)});return n.cancel=function(){return e=!0},n}var Oy=Sy.create({config:ky,isInitialized:!1,resolve:null,reject:null,monaco:null}),_h=ty(Oy,2),Ei=_h[0],fs=_h[1];function Py(t){var e=Ny.config(t),n=e.monaco,r=ey(e,["monaco"]);fs(function(i){return{config:Eh(i.config,r),monaco:n}})}function My(){var t=Ei(function(e){var n=e.monaco,r=e.isInitialized,i=e.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!t.isInitialized){if(fs({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),Qs(Ks);if(window.monaco&&window.monaco.editor)return xh(window.monaco),t.resolve(window.monaco),Qs(Ks);Ty(Ry,jy)(Ay)}return Qs(Ks)}function Ry(t){return document.body.appendChild(t)}function Iy(t){var e=document.createElement("script");return t&&(e.src=t),e}function jy(t){var e=Ei(function(r){var i=r.config,l=r.reject;return{config:i,reject:l}}),n=Iy("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function Ay(){var t=Ei(function(n){var r=n.config,i=n.resolve,l=n.reject;return{config:r,resolve:i,reject:l}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){xh(n),t.resolve(n)},function(n){t.reject(n)})}function xh(t){Ei().monaco||fs({monaco:t})}function Uy(){return Ei(function(t){var e=t.monaco;return e})}var Ks=new Promise(function(t,e){return fs({resolve:t,reject:e})}),Dh={config:Py,init:My,__getMonacoInstance:Uy},zy={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Ys=zy,Fy={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},$y=Fy;function Vy({children:t}){return pn.createElement("div",{style:$y.container},t)}var By=Vy,Hy=By;function Wy({width:t,height:e,isEditorReady:n,loading:r,_ref:i,className:l,wrapperProps:s}){return pn.createElement("section",{style:{...Ys.wrapper,width:t,height:e},...s},!n&&pn.createElement(Hy,null,r),pn.createElement("div",{ref:i,style:{...Ys.fullWidth,...!n&&Ys.hide},className:l}))}var Qy=Wy,Nh=N.memo(Qy);function Ky(t){N.useEffect(t,[])}var Th=Ky;function Yy(t,e,n=!0){let r=N.useRef(!0);N.useEffect(r.current||!n?()=>{r.current=!1}:t,e)}var ze=Yy;function Wr(){}function Qn(t,e,n,r){return Jy(t,r)||Gy(t,e,n,r)}function Jy(t,e){return t.editor.getModel(Lh(t,e))}function Gy(t,e,n,r){return t.editor.createModel(e,n,r?Lh(t,r):void 0)}function Lh(t,e){return t.Uri.parse(e)}function Xy({original:t,modified:e,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:l,modifiedModelPath:s,keepCurrentOriginalModel:o=!1,keepCurrentModifiedModel:u=!1,theme:c="light",loading:a="Loading...",options:f={},height:d="100%",width:p="100%",className:y,wrapperProps:v={},beforeMount:x=Wr,onMount:m=Wr}){let[h,g]=N.useState(!1),[w,k]=N.useState(!0),T=N.useRef(null),D=N.useRef(null),S=N.useRef(null),I=N.useRef(m),_=N.useRef(x),B=N.useRef(!1);Th(()=>{let O=Dh.init();return O.then(R=>(D.current=R)&&k(!1)).catch(R=>(R==null?void 0:R.type)!=="cancelation"&&console.error("Monaco initialization: error:",R)),()=>T.current?A():O.cancel()}),ze(()=>{if(T.current&&D.current){let O=T.current.getOriginalEditor(),R=Qn(D.current,t||"",r||n||"text",l||"");R!==O.getModel()&&O.setModel(R)}},[l],h),ze(()=>{if(T.current&&D.current){let O=T.current.getModifiedEditor(),R=Qn(D.current,e||"",i||n||"text",s||"");R!==O.getModel()&&O.setModel(R)}},[s],h),ze(()=>{let O=T.current.getModifiedEditor();O.getOption(D.current.editor.EditorOption.readOnly)?O.setValue(e||""):e!==O.getValue()&&(O.executeEdits("",[{range:O.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),O.pushUndoStop())},[e],h),ze(()=>{var O,R;(R=(O=T.current)==null?void 0:O.getModel())==null||R.original.setValue(t||"")},[t],h),ze(()=>{let{original:O,modified:R}=T.current.getModel();D.current.editor.setModelLanguage(O,r||n||"text"),D.current.editor.setModelLanguage(R,i||n||"text")},[n,r,i],h),ze(()=>{var O;(O=D.current)==null||O.editor.setTheme(c)},[c],h),ze(()=>{var O;(O=T.current)==null||O.updateOptions(f)},[f],h);let Y=N.useCallback(()=>{var pe;if(!D.current)return;_.current(D.current);let O=Qn(D.current,t||"",r||n||"text",l||""),R=Qn(D.current,e||"",i||n||"text",s||"");(pe=T.current)==null||pe.setModel({original:O,modified:R})},[n,e,i,t,r,l,s]),Q=N.useCallback(()=>{var O;!B.current&&S.current&&(T.current=D.current.editor.createDiffEditor(S.current,{automaticLayout:!0,...f}),Y(),(O=D.current)==null||O.editor.setTheme(c),g(!0),B.current=!0)},[f,c,Y]);N.useEffect(()=>{h&&I.current(T.current,D.current)},[h]),N.useEffect(()=>{!w&&!h&&Q()},[w,h,Q]);function A(){var R,pe,L,j;let O=(R=T.current)==null?void 0:R.getModel();o||((pe=O==null?void 0:O.original)==null||pe.dispose()),u||((L=O==null?void 0:O.modified)==null||L.dispose()),(j=T.current)==null||j.dispose()}return pn.createElement(Nh,{width:p,height:d,isEditorReady:h,loading:a,_ref:S,className:y,wrapperProps:v})}var Zy=Xy;N.memo(Zy);function by(t){let e=N.useRef();return N.useEffect(()=>{e.current=t},[t]),e.current}var qy=by,Ji=new Map;function ev({defaultValue:t,defaultLanguage:e,defaultPath:n,value:r,language:i,path:l,theme:s="light",line:o,loading:u="Loading...",options:c={},overrideServices:a={},saveViewState:f=!0,keepCurrentModel:d=!1,width:p="100%",height:y="100%",className:v,wrapperProps:x={},beforeMount:m=Wr,onMount:h=Wr,onChange:g,onValidate:w=Wr}){let[k,T]=N.useState(!1),[D,S]=N.useState(!0),I=N.useRef(null),_=N.useRef(null),B=N.useRef(null),Y=N.useRef(h),Q=N.useRef(m),A=N.useRef(),O=N.useRef(r),R=qy(l),pe=N.useRef(!1),L=N.useRef(!1);Th(()=>{let M=Dh.init();return M.then(U=>(I.current=U)&&S(!1)).catch(U=>(U==null?void 0:U.type)!=="cancelation"&&console.error("Monaco initialization: error:",U)),()=>_.current?z():M.cancel()}),ze(()=>{var U,ce,Ie,ot;let M=Qn(I.current,t||r||"",e||i||"",l||n||"");M!==((U=_.current)==null?void 0:U.getModel())&&(f&&Ji.set(R,(ce=_.current)==null?void 0:ce.saveViewState()),(Ie=_.current)==null||Ie.setModel(M),f&&((ot=_.current)==null||ot.restoreViewState(Ji.get(l))))},[l],k),ze(()=>{var M;(M=_.current)==null||M.updateOptions(c)},[c],k),ze(()=>{!_.current||r===void 0||(_.current.getOption(I.current.editor.EditorOption.readOnly)?_.current.setValue(r):r!==_.current.getValue()&&(L.current=!0,_.current.executeEdits("",[{range:_.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),_.current.pushUndoStop(),L.current=!1))},[r],k),ze(()=>{var U,ce;let M=(U=_.current)==null?void 0:U.getModel();M&&i&&((ce=I.current)==null||ce.editor.setModelLanguage(M,i))},[i],k),ze(()=>{var M;o!==void 0&&((M=_.current)==null||M.revealLine(o))},[o],k),ze(()=>{var M;(M=I.current)==null||M.editor.setTheme(s)},[s],k);let j=N.useCallback(()=>{var M;if(!(!B.current||!I.current)&&!pe.current){Q.current(I.current);let U=l||n,ce=Qn(I.current,r||t||"",e||i||"",U||"");_.current=(M=I.current)==null?void 0:M.editor.create(B.current,{model:ce,automaticLayout:!0,...c},a),f&&_.current.restoreViewState(Ji.get(U)),I.current.editor.setTheme(s),o!==void 0&&_.current.revealLine(o),T(!0),pe.current=!0}},[t,e,n,r,i,l,c,a,f,s,o]);N.useEffect(()=>{k&&Y.current(_.current,I.current)},[k]),N.useEffect(()=>{!D&&!k&&j()},[D,k,j]),O.current=r,N.useEffect(()=>{var M,U;k&&g&&((M=A.current)==null||M.dispose(),A.current=(U=_.current)==null?void 0:U.onDidChangeModelContent(ce=>{L.current||g(_.current.getValue(),ce)}))},[k,g]),N.useEffect(()=>{if(k){let M=I.current.editor.onDidChangeMarkers(U=>{var Ie;let ce=(Ie=_.current.getModel())==null?void 0:Ie.uri;if(ce&&U.find(ot=>ot.path===ce.path)){let ot=I.current.editor.getModelMarkers({resource:ce});w==null||w(ot)}});return()=>{M==null||M.dispose()}}return()=>{}},[k,w]);function z(){var M,U;(M=A.current)==null||M.dispose(),d?f&&Ji.set(l,_.current.saveViewState()):(U=_.current.getModel())==null||U.dispose(),_.current.dispose()}return pn.createElement(Nh,{width:p,height:y,isEditorReady:k,loading:u,_ref:B,className:v,wrapperProps:x})}var tv=ev,nv=N.memo(tv),Oh={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,c,a){this.fn=u,this.context=c,this.once=a||!1}function l(u,c,a,f,d){if(typeof a!="function")throw new TypeError("The listener must be a function");var p=new i(a,f||u,d),y=n?n+c:c;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],p]:u._events[y].push(p):(u._events[y]=p,u._eventsCount++),u}function s(u,c){--u._eventsCount===0?u._events=new r:delete u._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],a,f;if(this._eventsCount===0)return c;for(f in a=this._events)e.call(a,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(a)):c},o.prototype.listeners=function(c){var a=n?n+c:c,f=this._events[a];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,y=new Array(p);d<p;d++)y[d]=f[d].fn;return y},o.prototype.listenerCount=function(c){var a=n?n+c:c,f=this._events[a];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,a,f,d,p,y){var v=n?n+c:c;if(!this._events[v])return!1;var x=this._events[v],m=arguments.length,h,g;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),m){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,a),!0;case 3:return x.fn.call(x.context,a,f),!0;case 4:return x.fn.call(x.context,a,f,d),!0;case 5:return x.fn.call(x.context,a,f,d,p),!0;case 6:return x.fn.call(x.context,a,f,d,p,y),!0}for(g=1,h=new Array(m-1);g<m;g++)h[g-1]=arguments[g];x.fn.apply(x.context,h)}else{var w=x.length,k;for(g=0;g<w;g++)switch(x[g].once&&this.removeListener(c,x[g].fn,void 0,!0),m){case 1:x[g].fn.call(x[g].context);break;case 2:x[g].fn.call(x[g].context,a);break;case 3:x[g].fn.call(x[g].context,a,f);break;case 4:x[g].fn.call(x[g].context,a,f,d);break;default:if(!h)for(k=1,h=new Array(m-1);k<m;k++)h[k-1]=arguments[k];x[g].fn.apply(x[g].context,h)}}return!0},o.prototype.on=function(c,a,f){return l(this,c,a,f,!1)},o.prototype.once=function(c,a,f){return l(this,c,a,f,!0)},o.prototype.removeListener=function(c,a,f,d){var p=n?n+c:c;if(!this._events[p])return this;if(!a)return s(this,p),this;var y=this._events[p];if(y.fn)y.fn===a&&(!d||y.once)&&(!f||y.context===f)&&s(this,p);else{for(var v=0,x=[],m=y.length;v<m;v++)(y[v].fn!==a||d&&!y[v].once||f&&y[v].context!==f)&&x.push(y[v]);x.length?this._events[p]=x.length===1?x[0]:x:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var a;return c?(a=n?n+c:c,this._events[a]&&s(this,a)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(Oh);var rv=Oh.exports;const tc=cf(rv);let Gi;const iv=new Uint8Array(16);function lv(){if(!Gi&&(Gi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Gi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Gi(iv)}const ge=[];for(let t=0;t<256;++t)ge.push((t+256).toString(16).slice(1));function sv(t,e=0){return ge[t[e+0]]+ge[t[e+1]]+ge[t[e+2]]+ge[t[e+3]]+"-"+ge[t[e+4]]+ge[t[e+5]]+"-"+ge[t[e+6]]+ge[t[e+7]]+"-"+ge[t[e+8]]+ge[t[e+9]]+"-"+ge[t[e+10]]+ge[t[e+11]]+ge[t[e+12]]+ge[t[e+13]]+ge[t[e+14]]+ge[t[e+15]]}const ov=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ja={randomUUID:ov};function uv(t,e,n){if(ja.randomUUID&&!t)return ja.randomUUID();t=t||{};const r=t.random||(t.rng||lv)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,sv(r)}class cv extends tc{constructor(e="ws://localhost:8080"){super(),this.peerId=uv(),this.serverUrl=e,this.roomCode=null,this.userName="Anonymous",this.isDestroyed=!1,this.ws=null,this.reconnectTimeout=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.isConnected=!1,this.serverPeerId=null,this.peers=new Map}async joinRoom(e,n="Anonymous"){this.roomCode=e,this.userName=n,this.reconnectAttempts=0;try{await this.connectToServerPeer();const r={type:"join",roomCode:e,peerId:this.peerId,userName:n};this.sendToServerPeer(r)}catch(r){this.emit("error",r)}}async connectToServerPeer(){return new Promise((e,n)=>{try{this.ws=new WebSocket(this.serverUrl);const r=setTimeout(()=>{n(new Error("Connection timeout"))},1e4);this.ws.onopen=()=>{clearTimeout(r),this.isConnected=!0,this.reconnectAttempts=0,this.emit("serverConnected"),e()},this.ws.onclose=i=>{clearTimeout(r),this.isConnected=!1,this.emit("serverDisconnected"),this.handleServerDisconnect()},this.ws.onerror=i=>{clearTimeout(r),this.isConnected=!1,this.emit("serverError",i),n(i)},this.ws.onmessage=i=>{try{const l=JSON.parse(i.data);this.handleServerMessage(l)}catch{}}}catch(r){n(r)}})}handleServerMessage(e){const{type:n}=e;switch(n){case"joined":this.handleRoomJoined(e);break;case"peer-joined":this.handlePeerJoined(e);break;case"peer-left":this.handlePeerLeft(e);break;case"crdt-update":this.handleCRDTUpdate(e);break;case"cursor-update":this.handleCursorUpdate(e);break}}handleRoomJoined(e){const{roomCode:n,serverPeerId:r,existingPeers:i,documentState:l}=e;if(this.serverPeerId=r,i)for(const s of i)this.peers.set(s.peerId,{peerId:s.peerId,userName:s.userName,isServerPeer:!1});this.peers.set(r,{peerId:r,userName:"Server",isServerPeer:!0}),this.emit("roomJoined",{roomCode:n,peerId:this.peerId,documentState:l}),this.emit("peerConnected",{peerId:r,peer:this,isServerPeer:!0})}handlePeerJoined(e){const{peerId:n,userName:r}=e;this.peers.set(n,{peerId:n,userName:r,isServerPeer:!1}),this.emit("peerConnected",{peerId:n,peer:this,isServerPeer:!1})}handlePeerLeft(e){const{peerId:n}=e;this.peers.get(n)&&(this.peers.delete(n),this.emit("peerDisconnected",{peerId:n}))}handleCRDTUpdate(e){const{update:n,fromPeer:r}=e;this.emit("peerMessage",{peerId:r||this.serverPeerId,message:{type:"crdt-update",update:n}})}handleCursorUpdate(e){const{peerId:n,position:r,selection:i}=e;this.emit("peerMessage",{peerId:n,message:{type:"cursor-update",position:r,selection:i,timestamp:e.timestamp}})}handleServerDisconnect(){if(this.isDestroyed)return;const e=Array.from(this.peers.keys());for(const n of e)this.emit("peerDisconnected",{peerId:n});if(this.peers.clear(),this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;const n=Math.min(1e3*Math.pow(2,this.reconnectAttempts),3e4);this.reconnectTimeout=setTimeout(()=>{this.roomCode&&!this.isDestroyed&&this.connectToServerPeer().then(()=>this.joinRoom(this.roomCode,this.userName)).catch(r=>{})},n)}else this.emit("error",new Error("Unable to reconnect to server peer"))}sendToServerPeer(e){return this.ws&&this.ws.readyState===WebSocket.OPEN?(this.ws.send(JSON.stringify(e)),!0):!1}sendToPeer(e,n){return e===this.serverPeerId?this.sendToServerPeer(n):this.sendToServerPeer({type:n.type,targetPeer:e,...n})}broadcast(e){return this.sendToServerPeer(e)?1:0}getConnectedPeers(){return Array.from(this.peers.entries()).map(([e,n])=>({peerId:e,state:this.isConnected?"connected":"disconnected",userName:n.userName,isServerPeer:n.isServerPeer}))}startKeepAlive(){this.keepAliveInterval=setInterval(()=>{this.isConnected&&this.sendToServerPeer({type:"ping"})},3e4)}stopKeepAlive(){this.keepAliveInterval&&(clearInterval(this.keepAliveInterval),this.keepAliveInterval=null)}leaveRoom(){this.roomCode&&(this.sendToServerPeer({type:"leave"}),this.peers.clear(),this.roomCode=null,this.serverPeerId=null,this.emit("roomLeft"))}destroy(){this.isDestroyed||(this.isDestroyed=!0,this.isConnected=!1,this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.stopKeepAlive(),this.leaveRoom(),this.ws&&(this.ws.close(),this.ws=null),this.removeAllListeners())}}const lt=()=>new Map,qo=t=>{const e=lt();return t.forEach((n,r)=>{e.set(r,n)}),e},sn=(t,e,n)=>{let r=t.get(e);return r===void 0&&t.set(e,r=n()),r},av=(t,e)=>{const n=[];for(const[r,i]of t)n.push(e(i,r));return n},fv=(t,e)=>{for(const[n,r]of t)if(e(r,n))return!0;return!1},cr=()=>new Set,Js=t=>t[t.length-1],dv=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},En=Array.from,hv=Array.isArray;class pv{constructor(){this._observers=lt()}on(e,n){return sn(this._observers,e,cr).add(n),n}once(e,n){const r=(...i)=>{this.off(e,r),n(...i)};this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return En((this._observers.get(e)||lt()).values()).forEach(r=>r(...n))}destroy(){this._observers=lt()}}const qt=Math.floor,fl=Math.abs,Ph=(t,e)=>t<e?t:e,Ln=(t,e)=>t>e?t:e,Mh=t=>t!==0?t<0:1/t<0,Aa=1,Ua=2,Gs=4,Xs=8,ai=32,xt=64,Ve=128,ds=31,eu=63,yn=127,gv=2147483647,Rh=Number.MAX_SAFE_INTEGER,mv=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&qt(t)===t),yv=t=>t.toLowerCase(),vv=/^\s*/g,wv=t=>t.replace(vv,""),Sv=/([A-Z])/g,za=(t,e)=>wv(t.replace(Sv,n=>`${e}${yv(n)}`)),kv=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.codePointAt(i);return r},fi=typeof TextEncoder<"u"?new TextEncoder:null,Cv=t=>fi.encode(t),Ev=fi?Cv:kv;let Qr=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Qr&&Qr.decode(new Uint8Array).length===1&&(Qr=null);class _i{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const hs=()=>new _i,_v=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},dt=t=>{const e=new Uint8Array(_v(t));let n=0;for(let r=0;r<t.bufs.length;r++){const i=t.bufs[r];e.set(i,n),n+=i.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},xv=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(Ln(n,e)*2),t.cpos=0)},ae=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},tu=ae,H=(t,e)=>{for(;e>yn;)ae(t,Ve|yn&e),e=qt(e/128);ae(t,yn&e)},nc=(t,e)=>{const n=Mh(e);for(n&&(e=-e),ae(t,(e>eu?Ve:0)|(n?xt:0)|eu&e),e=qt(e/64);e>0;)ae(t,(e>yn?Ve:0)|yn&e),e=qt(e/128)},nu=new Uint8Array(3e4),Dv=nu.length/3,Nv=(t,e)=>{if(e.length<Dv){const n=fi.encodeInto(e,nu).written||0;H(t,n);for(let r=0;r<n;r++)ae(t,nu[r])}else je(t,Ev(e))},Tv=(t,e)=>{const n=unescape(encodeURIComponent(e)),r=n.length;H(t,r);for(let i=0;i<r;i++)ae(t,n.codePointAt(i))},bn=fi&&fi.encodeInto?Nv:Tv,ps=(t,e)=>{const n=t.cbuf.length,r=t.cpos,i=Ph(n-r,e.length),l=e.length-i;t.cbuf.set(e.subarray(0,i),r),t.cpos+=i,l>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Ln(n*2,l)),t.cbuf.set(e.subarray(i)),t.cpos=l)},je=(t,e)=>{H(t,e.byteLength),ps(t,e)},rc=(t,e)=>{xv(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},Lv=(t,e)=>rc(t,4).setFloat32(0,e,!1),Ov=(t,e)=>rc(t,8).setFloat64(0,e,!1),Pv=(t,e)=>rc(t,8).setBigInt64(0,e,!1),Fa=new DataView(new ArrayBuffer(4)),Mv=t=>(Fa.setFloat32(0,t),Fa.getFloat32(0)===t),di=(t,e)=>{switch(typeof e){case"string":ae(t,119),bn(t,e);break;case"number":mv(e)&&fl(e)<=gv?(ae(t,125),nc(t,e)):Mv(e)?(ae(t,124),Lv(t,e)):(ae(t,123),Ov(t,e));break;case"bigint":ae(t,122),Pv(t,e);break;case"object":if(e===null)ae(t,126);else if(hv(e)){ae(t,117),H(t,e.length);for(let n=0;n<e.length;n++)di(t,e[n])}else if(e instanceof Uint8Array)ae(t,116),je(t,e);else{ae(t,118);const n=Object.keys(e);H(t,n.length);for(let r=0;r<n.length;r++){const i=n[r];bn(t,i),di(t,e[i])}}break;case"boolean":ae(t,e?120:121);break;default:ae(t,127)}};class $a extends _i{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&H(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const Va=t=>{t.count>0&&(nc(t.encoder,t.count===1?t.s:-t.s),t.count>1&&H(t.encoder,t.count-2))};class dl{constructor(){this.encoder=new _i,this.s=0,this.count=0}write(e){this.s===e?this.count++:(Va(this),this.count=1,this.s=e)}toUint8Array(){return Va(this),dt(this.encoder)}}const Ba=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);nc(t.encoder,e),t.count>1&&H(t.encoder,t.count-2)}};class Zs{constructor(){this.encoder=new _i,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(Ba(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return Ba(this),dt(this.encoder)}}class Rv{constructor(){this.sarr=[],this.s="",this.lensE=new dl}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new _i;return this.sarr.push(this.s),this.s="",bn(e,this.sarr.join("")),ps(e,this.lensE.toUint8Array()),dt(e)}}const en=t=>new Error(t),gt=()=>{throw en("Method unimplemented")},mt=()=>{throw en("Unexpected case")},Ih=en("Unexpected end of array"),jh=en("Integer out of Range");class gs{constructor(e){this.arr=e,this.pos=0}}const vr=t=>new gs(t),Iv=t=>t.pos!==t.arr.length,jv=(t,e)=>{const n=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},Ae=t=>jv(t,F(t)),ar=t=>t.arr[t.pos++],F=t=>{let e=0,n=1;const r=t.arr.length;for(;t.pos<r;){const i=t.arr[t.pos++];if(e=e+(i&yn)*n,n*=128,i<Ve)return e;if(e>Rh)throw jh}throw Ih},ic=t=>{let e=t.arr[t.pos++],n=e&eu,r=64;const i=(e&xt)>0?-1:1;if(!(e&Ve))return i*n;const l=t.arr.length;for(;t.pos<l;){if(e=t.arr[t.pos++],n=n+(e&yn)*r,r*=128,e<Ve)return i*n;if(n>Rh)throw jh}throw Ih},Av=t=>{let e=F(t);if(e===0)return"";{let n=String.fromCodePoint(ar(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(ar(t));else for(;e>0;){const r=e<1e4?e:1e4,i=t.arr.subarray(t.pos,t.pos+r);t.pos+=r,n+=String.fromCodePoint.apply(null,i),e-=r}return decodeURIComponent(escape(n))}},Uv=t=>Qr.decode(Ae(t)),qn=Qr?Uv:Av,lc=(t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},zv=t=>lc(t,4).getFloat32(0,!1),Fv=t=>lc(t,8).getFloat64(0,!1),$v=t=>lc(t,8).getBigInt64(0,!1),Vv=[t=>{},t=>null,ic,zv,Fv,$v,t=>!1,t=>!0,qn,t=>{const e=F(t),n={};for(let r=0;r<e;r++){const i=qn(t);n[i]=hi(t)}return n},t=>{const e=F(t),n=[];for(let r=0;r<e;r++)n.push(hi(t));return n},Ae],hi=t=>Vv[127-ar(t)](t);class Ha extends gs{constructor(e,n){super(e),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),Iv(this)?this.count=F(this)+1:this.count=-1),this.count--,this.s}}class hl extends gs{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=ic(this);const e=Mh(this.s);this.count=1,e&&(this.s=-this.s,this.count=F(this)+2)}return this.count--,this.s}}class bs extends gs{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=ic(this),n=e&1;this.diff=qt(e/2),this.count=1,n&&(this.count=F(this)+2)}return this.s+=this.diff,this.count--,this.s}}class Bv{constructor(e){this.decoder=new hl(e),this.str=qn(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),n=this.str.slice(this.spos,e);return this.spos=e,n}}const Hv=crypto.getRandomValues.bind(crypto),Ah=()=>Hv(new Uint32Array(1))[0],Wv="10000000-1000-4000-8000"+-1e11,Qv=()=>Wv.replace(/[018]/g,t=>(t^Ah()&15>>t/4).toString(16)),Wa=t=>new Promise(t);Promise.all.bind(Promise);const Qa=t=>t===void 0?null:t;class Kv{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let Uh=new Kv,Yv=!0;try{typeof localStorage<"u"&&localStorage&&(Uh=localStorage,Yv=!1)}catch{}const Jv=Uh,Gv=Object.assign,Xv=Object.keys,Zv=(t,e)=>{for(const n in t)e(t[n],n)},Ka=t=>Xv(t).length,bv=t=>{for(const e in t)return!1;return!0},qv=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},e0=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t0=(t,e)=>t===e||Ka(t)===Ka(e)&&qv(t,(n,r)=>(n!==void 0||e0(e,r))&&e[r]===n),n0=Object.freeze,zh=t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&zh(t[e])}return n0(t)},sc=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&sc(t,e,n+1)}},r0=t=>t,i0=(t,e)=>e.includes(t);var an={env:{},nextTick:"((fn, ...args) => setTimeout(() => fn(...args), 0))"},Fh={};const pi=typeof an<"u"&&an.release&&/node|io\.js/.test(an.release.name)&&Object.prototype.toString.call(typeof an<"u"?an:0)==="[object process]";let ct;const l0=()=>{if(ct===void 0)if(pi){ct=lt();const t=an.argv;let e=null;for(let n=0;n<t.length;n++){const r=t[n];r[0]==="-"?(e!==null&&ct.set(e,""),e=r):e!==null&&(ct.set(e,r),e=null)}e!==null&&ct.set(e,"")}else typeof location=="object"?(ct=lt(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");ct.set(`--${za(e,"-")}`,n),ct.set(`-${za(e,"-")}`,n)}})):ct=lt();return ct},ru=t=>l0().has(t),$l=t=>Qa(pi?Fh[t.toUpperCase().replaceAll("-","_")]:Jv.getItem(t)),$h=t=>ru("--"+t)||$l(t)!==null;$h("production");const s0=pi&&i0(Fh.FORCE_COLOR,["true","1","2"]),o0=s0||!ru("--no-colors")&&!$h("no-color")&&(!pi||an.stdout.isTTY)&&(!pi||ru("--color")||$l("COLORTERM")!==null||($l("TERM")||"").includes("color")),u0=t=>new Uint8Array(t),c0=t=>{const e=u0(t.byteLength);return e.set(t),e};class a0{constructor(e,n){this.left=e,this.right=n}}const wt=(t,e)=>new a0(t,e);typeof DOMParser<"u"&&new DOMParser;const f0=t=>av(t,(e,n)=>`${n}:${e};`).join(""),Pt=Symbol,Vh=Pt(),Bh=Pt(),d0=Pt(),h0=Pt(),p0=Pt(),Hh=Pt(),g0=Pt(),oc=Pt(),m0=Pt(),y0=t=>{var i;t.length===1&&((i=t[0])==null?void 0:i.constructor)===Function&&(t=t[0]());const e=[],n=[];let r=0;for(;r<t.length;r++){const l=t[r];if(l===void 0)break;if(l.constructor===String||l.constructor===Number)e.push(l);else if(l.constructor===Object)break}for(r>0&&n.push(e.join(""));r<t.length;r++){const l=t[r];l instanceof Symbol||n.push(l)}return n},v0={[Vh]:wt("font-weight","bold"),[Bh]:wt("font-weight","normal"),[d0]:wt("color","blue"),[p0]:wt("color","green"),[h0]:wt("color","grey"),[Hh]:wt("color","red"),[g0]:wt("color","purple"),[oc]:wt("color","orange"),[m0]:wt("color","black")},w0=t=>{var s;t.length===1&&((s=t[0])==null?void 0:s.constructor)===Function&&(t=t[0]());const e=[],n=[],r=lt();let i=[],l=0;for(;l<t.length;l++){const o=t[l],u=v0[o];if(u!==void 0)r.set(u.left,u.right);else{if(o===void 0)break;if(o.constructor===String||o.constructor===Number){const c=f0(r);l>0||c.length>0?(e.push("%c"+o),n.push(c)):e.push(o)}else break}}for(l>0&&(i=n,i.unshift(e.join("")));l<t.length;l++){const o=t[l];o instanceof Symbol||i.push(o)}return i},Wh=o0?w0:y0,S0=(...t)=>{console.log(...Wh(t)),Qh.forEach(e=>e.print(t))},k0=(...t)=>{console.warn(...Wh(t)),t.unshift(oc),Qh.forEach(e=>e.print(t))},Qh=cr(),Kh=t=>({[Symbol.iterator](){return this},next:t}),C0=(t,e)=>Kh(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),qs=(t,e)=>Kh(()=>{const{done:n,value:r}=t.next();return{done:n,value:n?void 0:e(r)}});class uc{constructor(e,n){this.clock=e,this.len=n}}class xi{constructor(){this.clients=new Map}}const Yh=(t,e,n)=>e.clients.forEach((r,i)=>{const l=t.doc.store.clients.get(i);if(l!=null){const s=l[l.length-1],o=s.id.clock+s.length;for(let u=0,c=r[u];u<r.length&&c.clock<o;c=r[++u])rp(t,l,c.clock,c.len,n)}}),E0=(t,e)=>{let n=0,r=t.length-1;for(;n<=r;){const i=qt((n+r)/2),l=t[i],s=l.clock;if(s<=e){if(e<s+l.len)return i;n=i+1}else r=i-1}return null},Jh=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&E0(n,e.clock)!==null},cc=t=>{t.clients.forEach(e=>{e.sort((i,l)=>i.clock-l.clock);let n,r;for(n=1,r=1;n<e.length;n++){const i=e[r-1],l=e[n];i.clock+i.len>=l.clock?i.len=Ln(i.len,l.clock+l.len-i.clock):(r<n&&(e[r]=l),r++)}e.length=r})},_0=t=>{const e=new xi;for(let n=0;n<t.length;n++)t[n].clients.forEach((r,i)=>{if(!e.clients.has(i)){const l=r.slice();for(let s=n+1;s<t.length;s++)dv(l,t[s].clients.get(i)||[]);e.clients.set(i,l)}});return cc(e),e},Vl=(t,e,n,r)=>{sn(t.clients,e,()=>[]).push(new uc(n,r))},x0=()=>new xi,D0=t=>{const e=x0();return t.clients.forEach((n,r)=>{const i=[];for(let l=0;l<n.length;l++){const s=n[l];if(s.deleted){const o=s.id.clock;let u=s.length;if(l+1<n.length)for(let c=n[l+1];l+1<n.length&&c.deleted;c=n[++l+1])u+=c.length;i.push(new uc(o,u))}}i.length>0&&e.clients.set(r,i)}),e},wr=(t,e)=>{H(t.restEncoder,e.clients.size),En(e.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{t.resetDsCurVal(),H(t.restEncoder,n);const i=r.length;H(t.restEncoder,i);for(let l=0;l<i;l++){const s=r[l];t.writeDsClock(s.clock),t.writeDsLen(s.len)}})},ac=t=>{const e=new xi,n=F(t.restDecoder);for(let r=0;r<n;r++){t.resetDsCurVal();const i=F(t.restDecoder),l=F(t.restDecoder);if(l>0){const s=sn(e.clients,i,()=>[]);for(let o=0;o<l;o++)s.push(new uc(t.readDsClock(),t.readDsLen()))}}return e},Ya=(t,e,n)=>{const r=new xi,i=F(t.restDecoder);for(let l=0;l<i;l++){t.resetDsCurVal();const s=F(t.restDecoder),o=F(t.restDecoder),u=n.clients.get(s)||[],c=de(n,s);for(let a=0;a<o;a++){const f=t.readDsClock(),d=f+t.readDsLen();if(f<c){c<d&&Vl(r,s,c,d-c);let p=yt(u,f),y=u[p];for(!y.deleted&&y.id.clock<f&&(u.splice(p+1,0,Jl(e,y,f-y.id.clock)),p++);p<u.length&&(y=u[p++],y.id.clock<d);)y.deleted||(d<y.id.clock+y.length&&u.splice(p,0,Jl(e,y,d-y.id.clock)),y.delete(e))}else Vl(r,s,f,d-f)}}if(r.clients.size>0){const l=new _n;return H(l.restEncoder,0),wr(l,r),l.toUint8Array()}return null},Gh=Ah;class Sr extends pv{constructor({guid:e=Qv(),collectionid:n=null,gc:r=!0,gcFilter:i=()=>!0,meta:l=null,autoLoad:s=!1,shouldLoad:o=!0}={}){super(),this.gc=r,this.gcFilter=i,this.clientID=Gh(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new tp,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=o,this.autoLoad=s,this.meta=l,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=Wa(c=>{this.on("load",()=>{this.isLoaded=!0,c(this)})});const u=()=>Wa(c=>{const a=f=>{(f===void 0||f===!0)&&(this.off("sync",a),c())};this.on("sync",a)});this.on("sync",c=>{c===!1&&this.isSynced&&(this.whenSynced=u()),this.isSynced=c===void 0||c===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=u()}load(){const e=this._item;e!==null&&!this.shouldLoad&&J(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(En(this.subdocs).map(e=>e.guid))}transact(e,n=null){return J(this,e,n)}get(e,n=ve){const r=sn(this.share,e,()=>{const l=new n;return l._integrate(this,null),l}),i=r.constructor;if(n!==ve&&i!==n)if(i===ve){const l=new n;l._map=r._map,r._map.forEach(s=>{for(;s!==null;s=s.left)s.parent=l}),l._start=r._start;for(let s=l._start;s!==null;s=s.right)s.parent=l;return l._length=r._length,this.share.set(e,l),l._integrate(this,null),l}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return r}getArray(e=""){return this.get(e,tr)}getText(e=""){return this.get(e,hr)}getMap(e=""){return this.get(e,dr)}getXmlElement(e=""){return this.get(e,pr)}getXmlFragment(e=""){return this.get(e,xn)}toJSON(){const e={};return this.share.forEach((n,r)=>{e[r]=n.toJSON()}),e}destroy(){this.isDestroyed=!0,En(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new Sr({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,J(e.parent.doc,r=>{const i=n.doc;e.deleted||r.subdocsAdded.add(i),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class Xh{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return F(this.restDecoder)}readDsLen(){return F(this.restDecoder)}}class Zh extends Xh{readLeftID(){return V(F(this.restDecoder),F(this.restDecoder))}readRightID(){return V(F(this.restDecoder),F(this.restDecoder))}readClient(){return F(this.restDecoder)}readInfo(){return ar(this.restDecoder)}readString(){return qn(this.restDecoder)}readParentInfo(){return F(this.restDecoder)===1}readTypeRef(){return F(this.restDecoder)}readLen(){return F(this.restDecoder)}readAny(){return hi(this.restDecoder)}readBuf(){return c0(Ae(this.restDecoder))}readJSON(){return JSON.parse(qn(this.restDecoder))}readKey(){return qn(this.restDecoder)}}class N0{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=F(this.restDecoder),this.dsCurrVal}readDsLen(){const e=F(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class fr extends N0{constructor(e){super(e),this.keys=[],F(e),this.keyClockDecoder=new bs(Ae(e)),this.clientDecoder=new hl(Ae(e)),this.leftClockDecoder=new bs(Ae(e)),this.rightClockDecoder=new bs(Ae(e)),this.infoDecoder=new Ha(Ae(e),ar),this.stringDecoder=new Bv(Ae(e)),this.parentInfoDecoder=new Ha(Ae(e),ar),this.typeRefDecoder=new hl(Ae(e)),this.lenDecoder=new hl(Ae(e))}readLeftID(){return new er(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new er(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return hi(this.restDecoder)}readBuf(){return Ae(this.restDecoder)}readJSON(){return hi(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class T0{constructor(){this.restEncoder=hs()}toUint8Array(){return dt(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){H(this.restEncoder,e)}writeDsLen(e){H(this.restEncoder,e)}}class Di extends T0{writeLeftID(e){H(this.restEncoder,e.client),H(this.restEncoder,e.clock)}writeRightID(e){H(this.restEncoder,e.client),H(this.restEncoder,e.clock)}writeClient(e){H(this.restEncoder,e)}writeInfo(e){tu(this.restEncoder,e)}writeString(e){bn(this.restEncoder,e)}writeParentInfo(e){H(this.restEncoder,e?1:0)}writeTypeRef(e){H(this.restEncoder,e)}writeLen(e){H(this.restEncoder,e)}writeAny(e){di(this.restEncoder,e)}writeBuf(e){je(this.restEncoder,e)}writeJSON(e){bn(this.restEncoder,JSON.stringify(e))}writeKey(e){bn(this.restEncoder,e)}}class L0{constructor(){this.restEncoder=hs(),this.dsCurrVal=0}toUint8Array(){return dt(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,H(this.restEncoder,n)}writeDsLen(e){e===0&&mt(),H(this.restEncoder,e-1),this.dsCurrVal+=e}}class _n extends L0{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Zs,this.clientEncoder=new dl,this.leftClockEncoder=new Zs,this.rightClockEncoder=new Zs,this.infoEncoder=new $a(tu),this.stringEncoder=new Rv,this.parentInfoEncoder=new $a(tu),this.typeRefEncoder=new dl,this.lenEncoder=new dl}toUint8Array(){const e=hs();return H(e,0),je(e,this.keyClockEncoder.toUint8Array()),je(e,this.clientEncoder.toUint8Array()),je(e,this.leftClockEncoder.toUint8Array()),je(e,this.rightClockEncoder.toUint8Array()),je(e,dt(this.infoEncoder)),je(e,this.stringEncoder.toUint8Array()),je(e,dt(this.parentInfoEncoder)),je(e,this.typeRefEncoder.toUint8Array()),je(e,this.lenEncoder.toUint8Array()),ps(e,dt(this.restEncoder)),dt(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){di(this.restEncoder,e)}writeBuf(e){je(this.restEncoder,e)}writeJSON(e){di(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const O0=(t,e,n,r)=>{r=Ln(r,e[0].id.clock);const i=yt(e,r);H(t.restEncoder,e.length-i),t.writeClient(n),H(t.restEncoder,r);const l=e[i];l.write(t,r-l.id.clock);for(let s=i+1;s<e.length;s++)e[s].write(t,0)},fc=(t,e,n)=>{const r=new Map;n.forEach((i,l)=>{de(e,l)>i&&r.set(l,i)}),dc(e).forEach((i,l)=>{n.has(l)||r.set(l,0)}),H(t.restEncoder,r.size),En(r.entries()).sort((i,l)=>l[0]-i[0]).forEach(([i,l])=>{O0(t,e.clients.get(i),i,l)})},P0=(t,e)=>{const n=lt(),r=F(t.restDecoder);for(let i=0;i<r;i++){const l=F(t.restDecoder),s=new Array(l),o=t.readClient();let u=F(t.restDecoder);n.set(o,{i:0,refs:s});for(let c=0;c<l;c++){const a=t.readInfo();switch(ds&a){case 0:{const f=t.readLen();s[c]=new Ye(V(o,u),f),u+=f;break}case 10:{const f=F(t.restDecoder);s[c]=new Je(V(o,u),f),u+=f;break}default:{const f=(a&(xt|Ve))===0,d=new oe(V(o,u),null,(a&Ve)===Ve?t.readLeftID():null,null,(a&xt)===xt?t.readRightID():null,f?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,f&&(a&ai)===ai?t.readString():null,Cp(t,a));s[c]=d,u+=d.length}}}}return n},M0=(t,e,n)=>{const r=[];let i=En(n.keys()).sort((p,y)=>p-y);if(i.length===0)return null;const l=()=>{if(i.length===0)return null;let p=n.get(i[i.length-1]);for(;p.refs.length===p.i;)if(i.pop(),i.length>0)p=n.get(i[i.length-1]);else return null;return p};let s=l();if(s===null)return null;const o=new tp,u=new Map,c=(p,y)=>{const v=u.get(p);(v==null||v>y)&&u.set(p,y)};let a=s.refs[s.i++];const f=new Map,d=()=>{for(const p of r){const y=p.id.client,v=n.get(y);v?(v.i--,o.clients.set(y,v.refs.slice(v.i)),n.delete(y),v.i=0,v.refs=[]):o.clients.set(y,[p]),i=i.filter(x=>x!==y)}r.length=0};for(;;){if(a.constructor!==Je){const y=sn(f,a.id.client,()=>de(e,a.id.client))-a.id.clock;if(y<0)r.push(a),c(a.id.client,a.id.clock-1),d();else{const v=a.getMissing(t,e);if(v!==null){r.push(a);const x=n.get(v)||{refs:[],i:0};if(x.refs.length===x.i)c(v,de(e,v)),d();else{a=x.refs[x.i++];continue}}else(y===0||y<a.length)&&(a.integrate(t,y),f.set(a.id.client,a.id.clock+a.length))}}if(r.length>0)a=r.pop();else if(s!==null&&s.i<s.refs.length)a=s.refs[s.i++];else{if(s=l(),s===null)break;a=s.refs[s.i++]}}if(o.clients.size>0){const p=new _n;return fc(p,o,new Map),H(p.restEncoder,0),{missing:u,update:p.toUint8Array()}}return null},R0=(t,e)=>fc(t,e.doc.store,e.beforeState),I0=(t,e,n,r=new fr(t))=>J(e,i=>{i.local=!1;let l=!1;const s=i.doc,o=s.store,u=P0(r,s),c=M0(i,o,u),a=o.pendingStructs;if(a){for(const[d,p]of a.missing)if(p<de(o,d)){l=!0;break}if(c){for(const[d,p]of c.missing){const y=a.missing.get(d);(y==null||y>p)&&a.missing.set(d,p)}a.update=Bl([a.update,c.update])}}else o.pendingStructs=c;const f=Ya(r,i,o);if(o.pendingDs){const d=new fr(vr(o.pendingDs));F(d.restDecoder);const p=Ya(d,i,o);f&&p?o.pendingDs=Bl([f,p]):o.pendingDs=f||p}else o.pendingDs=f;if(l){const d=o.pendingStructs.update;o.pendingStructs=null,bh(i.doc,d)}},n,!1),bh=(t,e,n,r=fr)=>{const i=vr(e);I0(i,t,n,new r(i))},Ja=(t,e,n)=>bh(t,e,n,Zh),j0=(t,e,n=new Map)=>{fc(t,e.store,n),wr(t,D0(e.store))},A0=(t,e=new Uint8Array([0]),n=new _n)=>{const r=qh(e);j0(n,t,r);const i=[n.toUint8Array()];if(t.store.pendingDs&&i.push(t.store.pendingDs),t.store.pendingStructs&&i.push(J0(t.store.pendingStructs.update,e)),i.length>1){if(n.constructor===Di)return K0(i.map((l,s)=>s===0?l:X0(l)));if(n.constructor===_n)return Bl(i)}return i[0]},eo=(t,e)=>A0(t,e,new Di),U0=t=>{const e=new Map,n=F(t.restDecoder);for(let r=0;r<n;r++){const i=F(t.restDecoder),l=F(t.restDecoder);e.set(i,l)}return e},qh=t=>U0(new Xh(vr(t)));class z0{constructor(){this.l=[]}}const Ga=()=>new z0,Xa=(t,e)=>t.l.push(e),Za=(t,e)=>{const n=t.l,r=n.length;t.l=n.filter(i=>e!==i),r===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},ep=(t,e,n)=>sc(t.l,[e,n]);class er{constructor(e,n){this.client=e,this.clock=n}}const Xi=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,V=(t,e)=>new er(t,e),F0=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw mt()},Mn=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!Jh(e.ds,t.id),iu=(t,e)=>{const n=sn(t.meta,iu,cr),r=t.doc.store;n.has(e)||(e.sv.forEach((i,l)=>{i<de(r,l)&&tn(t,V(l,i))}),Yh(t,e.ds,i=>{}),n.add(e))};class tp{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const dc=t=>{const e=new Map;return t.clients.forEach((n,r)=>{const i=n[n.length-1];e.set(r,i.id.clock+i.length)}),e},de=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},np=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==e.id.clock)throw mt()}n.push(e)},yt=(t,e)=>{let n=0,r=t.length-1,i=t[r],l=i.id.clock;if(l===e)return r;let s=qt(e/(l+i.length-1)*r);for(;n<=r;){if(i=t[s],l=i.id.clock,l<=e){if(e<l+i.length)return s;n=s+1}else r=s-1;s=qt((n+r)/2)}throw mt()},$0=(t,e)=>{const n=t.clients.get(e.client);return n[yt(n,e.clock)]},to=$0,lu=(t,e,n)=>{const r=yt(e,n),i=e[r];return i.id.clock<n&&i instanceof oe?(e.splice(r+1,0,Jl(t,i,n-i.id.clock)),r+1):r},tn=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[lu(t,n,e.clock)]},ba=(t,e,n)=>{const r=e.clients.get(n.client),i=yt(r,n.clock),l=r[i];return n.clock!==l.id.clock+l.length-1&&l.constructor!==Ye&&r.splice(i+1,0,Jl(t,l,n.clock-l.id.clock+1)),l},V0=(t,e,n)=>{const r=t.clients.get(e.id.client);r[yt(r,e.id.clock)]=n},rp=(t,e,n,r,i)=>{if(r===0)return;const l=n+r;let s=lu(t,e,n),o;do o=e[s++],l<o.id.clock+o.length&&lu(t,e,l),i(o);while(s<e.length&&e[s].id.clock<l)};class B0{constructor(e,n,r){this.doc=e,this.deleteSet=new xi,this.beforeState=dc(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const qa=(t,e)=>e.deleteSet.clients.size===0&&!fv(e.afterState,(n,r)=>e.beforeState.get(r)!==n)?!1:(cc(e.deleteSet),R0(t,e),wr(t,e.deleteSet),!0),ef=(t,e,n)=>{const r=e._item;(r===null||r.id.clock<(t.beforeState.get(r.id.client)||0)&&!r.deleted)&&sn(t.changed,e,cr).add(n)},pl=(t,e)=>{let n=t[e],r=t[e-1],i=e;for(;i>0;n=r,r=t[--i-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof oe&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}const l=e-i;return l&&t.splice(e+1-l,l),l},H0=(t,e,n)=>{for(const[r,i]of t.clients.entries()){const l=e.clients.get(r);for(let s=i.length-1;s>=0;s--){const o=i[s],u=o.clock+o.len;for(let c=yt(l,o.clock),a=l[c];c<l.length&&a.id.clock<u;a=l[++c]){const f=l[c];if(o.clock+o.len<=f.id.clock)break;f instanceof oe&&f.deleted&&!f.keep&&n(f)&&f.gc(e,!1)}}}},W0=(t,e)=>{t.clients.forEach((n,r)=>{const i=e.clients.get(r);for(let l=n.length-1;l>=0;l--){const s=n[l],o=Ph(i.length-1,1+yt(i,s.clock+s.len-1));for(let u=o,c=i[u];u>0&&c.id.clock>=s.clock;c=i[u])u-=1+pl(i,u)}})},ip=(t,e)=>{if(e<t.length){const n=t[e],r=n.doc,i=r.store,l=n.deleteSet,s=n._mergeStructs;try{cc(l),n.afterState=dc(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const o=[];n.changed.forEach((u,c)=>o.push(()=>{(c._item===null||!c._item.deleted)&&c._callObserver(n,u)})),o.push(()=>{n.changedParentTypes.forEach((u,c)=>{c._dEH.l.length>0&&(c._item===null||!c._item.deleted)&&(u=u.filter(a=>a.target._item===null||!a.target._item.deleted),u.forEach(a=>{a.currentTarget=c,a._path=null}),u.sort((a,f)=>a.path.length-f.path.length),ep(c._dEH,u,n))})}),o.push(()=>r.emit("afterTransaction",[n,r])),sc(o,[]),n._needFormattingCleanup&&aw(n)}finally{r.gc&&H0(l,i,r.gcFilter),W0(l,i),n.afterState.forEach((a,f)=>{const d=n.beforeState.get(f)||0;if(d!==a){const p=i.clients.get(f),y=Ln(yt(p,d),1);for(let v=p.length-1;v>=y;)v-=1+pl(p,v)}});for(let a=s.length-1;a>=0;a--){const{client:f,clock:d}=s[a].id,p=i.clients.get(f),y=yt(p,d);y+1<p.length&&pl(p,y+1)>1||y>0&&pl(p,y)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(S0(oc,Vh,"[yjs] ",Bh,Hh,"Changed the client-id because another client seems to be using it."),r.clientID=Gh()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const a=new Di;qa(a,n)&&r.emit("update",[a.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const a=new _n;qa(a,n)&&r.emit("updateV2",[a.toUint8Array(),n.origin,r,n])}const{subdocsAdded:o,subdocsLoaded:u,subdocsRemoved:c}=n;(o.size>0||c.size>0||u.size>0)&&(o.forEach(a=>{a.clientID=r.clientID,a.collectionid==null&&(a.collectionid=r.collectionid),r.subdocs.add(a)}),c.forEach(a=>r.subdocs.delete(a)),r.emit("subdocs",[{loaded:u,added:o,removed:c},r,n]),c.forEach(a=>a.destroy())),t.length<=e+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,t])):ip(t,e+1)}}},J=(t,e,n=null,r=!0)=>{const i=t._transactionCleanups;let l=!1,s=null;t._transaction===null&&(l=!0,t._transaction=new B0(t,n,r),i.push(t._transaction),i.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{s=e(t._transaction)}finally{if(l){const o=t._transaction===i[0];t._transaction=null,o&&ip(i,0)}}return s};function*Q0(t){const e=F(t.restDecoder);for(let n=0;n<e;n++){const r=F(t.restDecoder),i=t.readClient();let l=F(t.restDecoder);for(let s=0;s<r;s++){const o=t.readInfo();if(o===10){const u=F(t.restDecoder);yield new Je(V(i,l),u),l+=u}else if(ds&o){const u=(o&(xt|Ve))===0,c=new oe(V(i,l),null,(o&Ve)===Ve?t.readLeftID():null,null,(o&xt)===xt?t.readRightID():null,u?t.readParentInfo()?t.readString():t.readLeftID():null,u&&(o&ai)===ai?t.readString():null,Cp(t,o));yield c,l+=c.length}else{const u=t.readLen();yield new Ye(V(i,l),u),l+=u}}}}class hc{constructor(e,n){this.gen=Q0(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===Je);return this.curr}}class pc{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const K0=t=>Bl(t,Zh,Di),Y0=(t,e)=>{if(t.constructor===Ye){const{client:n,clock:r}=t.id;return new Ye(V(n,r+e),t.length-e)}else if(t.constructor===Je){const{client:n,clock:r}=t.id;return new Je(V(n,r+e),t.length-e)}else{const n=t,{client:r,clock:i}=n.id;return new oe(V(r,i+e),null,V(r,i+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},Bl=(t,e=fr,n=_n)=>{if(t.length===1)return t[0];const r=t.map(a=>new e(vr(a)));let i=r.map(a=>new hc(a,!0)),l=null;const s=new n,o=new pc(s);for(;i=i.filter(d=>d.curr!==null),i.sort((d,p)=>{if(d.curr.id.client===p.curr.id.client){const y=d.curr.id.clock-p.curr.id.clock;return y===0?d.curr.constructor===p.curr.constructor?0:d.curr.constructor===Je?1:-1:y}else return p.curr.id.client-d.curr.id.client}),i.length!==0;){const a=i[0],f=a.curr.id.client;if(l!==null){let d=a.curr,p=!1;for(;d!==null&&d.id.clock+d.length<=l.struct.id.clock+l.struct.length&&d.id.client>=l.struct.id.client;)d=a.next(),p=!0;if(d===null||d.id.client!==f||p&&d.id.clock>l.struct.id.clock+l.struct.length)continue;if(f!==l.struct.id.client)zt(o,l.struct,l.offset),l={struct:d,offset:0},a.next();else if(l.struct.id.clock+l.struct.length<d.id.clock)if(l.struct.constructor===Je)l.struct.length=d.id.clock+d.length-l.struct.id.clock;else{zt(o,l.struct,l.offset);const y=d.id.clock-l.struct.id.clock-l.struct.length;l={struct:new Je(V(f,l.struct.id.clock+l.struct.length),y),offset:0}}else{const y=l.struct.id.clock+l.struct.length-d.id.clock;y>0&&(l.struct.constructor===Je?l.struct.length-=y:d=Y0(d,y)),l.struct.mergeWith(d)||(zt(o,l.struct,l.offset),l={struct:d,offset:0},a.next())}}else l={struct:a.curr,offset:0},a.next();for(let d=a.curr;d!==null&&d.id.client===f&&d.id.clock===l.struct.id.clock+l.struct.length&&d.constructor!==Je;d=a.next())zt(o,l.struct,l.offset),l={struct:d,offset:0}}l!==null&&(zt(o,l.struct,l.offset),l=null),gc(o);const u=r.map(a=>ac(a)),c=_0(u);return wr(s,c),s.toUint8Array()},J0=(t,e,n=fr,r=_n)=>{const i=qh(e),l=new r,s=new pc(l),o=new n(vr(t)),u=new hc(o,!1);for(;u.curr;){const a=u.curr,f=a.id.client,d=i.get(f)||0;if(u.curr.constructor===Je){u.next();continue}if(a.id.clock+a.length>d)for(zt(s,a,Ln(d-a.id.clock,0)),u.next();u.curr&&u.curr.id.client===f;)zt(s,u.curr,0),u.next();else for(;u.curr&&u.curr.id.client===f&&u.curr.id.clock+u.curr.length<=d;)u.next()}gc(s);const c=ac(o);return wr(l,c),l.toUint8Array()},lp=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:dt(t.encoder.restEncoder)}),t.encoder.restEncoder=hs(),t.written=0)},zt=(t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&lp(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),H(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},gc=t=>{lp(t);const e=t.encoder.restEncoder;H(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const r=t.clientStructs[n];H(e,r.written),ps(e,r.restEncoder)}},G0=(t,e,n,r)=>{const i=new n(vr(t)),l=new hc(i,!1),s=new r,o=new pc(s);for(let c=l.curr;c!==null;c=l.next())zt(o,e(c),0);gc(o);const u=ac(i);return wr(s,u),s.toUint8Array()},X0=t=>G0(t,r0,fr,Di),tf="You must not compute changes after the event-handler fired.";class ms{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=Z0(this.currentTarget,this.target))}deletes(e){return Jh(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw en(tf);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(i=>{if(i!==null){const l=n._map.get(i);let s,o;if(this.adds(l)){let u=l.left;for(;u!==null&&this.adds(u);)u=u.left;if(this.deletes(l))if(u!==null&&this.deletes(u))s="delete",o=Js(u.content.getContent());else return;else u!==null&&this.deletes(u)?(s="update",o=Js(u.content.getContent())):(s="add",o=void 0)}else if(this.deletes(l))s="delete",o=Js(l.content.getContent());else return;e.set(i,{action:s,oldValue:o})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw en(tf);const n=this.target,r=cr(),i=cr(),l=[];if(e={added:r,deleted:i,delta:l,keys:this.keys},this.transaction.changed.get(n).has(null)){let o=null;const u=()=>{o&&l.push(o)};for(let c=n._start;c!==null;c=c.right)c.deleted?this.deletes(c)&&!this.adds(c)&&((o===null||o.delete===void 0)&&(u(),o={delete:0}),o.delete+=c.length,i.add(c)):this.adds(c)?((o===null||o.insert===void 0)&&(u(),o={insert:[]}),o.insert=o.insert.concat(c.content.getContent()),r.add(c)):((o===null||o.retain===void 0)&&(u(),o={retain:0}),o.retain+=c.length);o!==null&&o.retain===void 0&&u()}this._changes=e}return e}}const Z0=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let r=0,i=e._item.parent._start;for(;i!==e._item&&i!==null;)!i.deleted&&i.countable&&(r+=i.length),i=i.right;n.unshift(r)}e=e._item.parent}return n},Ee=()=>{k0("Invalid access: Add Yjs type to a document before reading data.")},sp=80;let mc=0;class b0{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=mc++}}const q0=t=>{t.timestamp=mc++},op=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=mc++},ew=(t,e,n)=>{if(t.length>=sp){const r=t.reduce((i,l)=>i.timestamp<l.timestamp?i:l);return op(r,e,n),r}else{const r=new b0(e,n);return t.push(r),r}},ys=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((l,s)=>fl(e-l.index)<fl(e-s.index)?l:s);let r=t._start,i=0;for(n!==null&&(r=n.p,i=n.index,q0(n));r.right!==null&&i<e;){if(!r.deleted&&r.countable){if(e<i+r.length)break;i+=r.length}r=r.right}for(;r.left!==null&&i>e;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);return n!==null&&fl(n.index-i)<r.parent.length/sp?(op(n,r,i),n):ew(t._searchMarker,r,i)},gi=(t,e,n)=>{for(let r=t.length-1;r>=0;r--){const i=t[r];if(n>0){let l=i.p;for(l.marker=!1;l&&(l.deleted||!l.countable);)l=l.left,l&&!l.deleted&&l.countable&&(i.index-=l.length);if(l===null||l.marker===!0){t.splice(r,1);continue}i.p=l,l.marker=!0}(e<i.index||n>0&&e===i.index)&&(i.index=Ln(e,i.index+n))}},vs=(t,e,n)=>{const r=t,i=e.changedParentTypes;for(;sn(i,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;ep(r._eH,n,e)};class ve{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Ga(),this._dEH=Ga(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw gt()}clone(){throw gt()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){Xa(this._eH,e)}observeDeep(e){Xa(this._dEH,e)}unobserve(e){Za(this._eH,e)}unobserveDeep(e){Za(this._dEH,e)}toJSON(){}}const up=(t,e,n)=>{t.doc??Ee(),e<0&&(e=t._length+e),n<0&&(n=t._length+n);let r=n-e;const i=[];let l=t._start;for(;l!==null&&r>0;){if(l.countable&&!l.deleted){const s=l.content.getContent();if(s.length<=e)e-=s.length;else{for(let o=e;o<s.length&&r>0;o++)i.push(s[o]),r--;e=0}}l=l.right}return i},cp=t=>{t.doc??Ee();const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let i=0;i<r.length;i++)e.push(r[i])}n=n.right}return e},mi=(t,e)=>{let n=0,r=t._start;for(t.doc??Ee();r!==null;){if(r.countable&&!r.deleted){const i=r.content.getContent();for(let l=0;l<i.length;l++)e(i[l],n++,t)}r=r.right}},ap=(t,e)=>{const n=[];return mi(t,(r,i)=>{n.push(e(r,i,t))}),n},tw=t=>{let e=t._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),r=0,e=e.right}const i=n[r++];return n.length<=r&&(n=null),{done:!1,value:i}}}},fp=(t,e)=>{t.doc??Ee();const n=ys(t,e);let r=t._start;for(n!==null&&(r=n.p,e-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(e<r.length)return r.content.getContent()[e];e-=r.length}},Hl=(t,e,n,r)=>{let i=n;const l=t.doc,s=l.clientID,o=l.store,u=n===null?e._start:n.right;let c=[];const a=()=>{c.length>0&&(i=new oe(V(s,de(o,s)),i,i&&i.lastId,u,u&&u.id,e,null,new Dn(c)),i.integrate(t,0),c=[])};r.forEach(f=>{if(f===null)c.push(f);else switch(f.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(f);break;default:switch(a(),f.constructor){case Uint8Array:case ArrayBuffer:i=new oe(V(s,de(o,s)),i,i&&i.lastId,u,u&&u.id,e,null,new Ni(new Uint8Array(f))),i.integrate(t,0);break;case Sr:i=new oe(V(s,de(o,s)),i,i&&i.lastId,u,u&&u.id,e,null,new Ti(f)),i.integrate(t,0);break;default:if(f instanceof ve)i=new oe(V(s,de(o,s)),i,i&&i.lastId,u,u&&u.id,e,null,new Mt(f)),i.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),a()},dp=()=>en("Length exceeded!"),hp=(t,e,n,r)=>{if(n>e._length)throw dp();if(n===0)return e._searchMarker&&gi(e._searchMarker,n,r.length),Hl(t,e,null,r);const i=n,l=ys(e,n);let s=e._start;for(l!==null&&(s=l.p,n-=l.index,n===0&&(s=s.prev,n+=s&&s.countable&&!s.deleted?s.length:0));s!==null;s=s.right)if(!s.deleted&&s.countable){if(n<=s.length){n<s.length&&tn(t,V(s.id.client,s.id.clock+n));break}n-=s.length}return e._searchMarker&&gi(e._searchMarker,i,r.length),Hl(t,e,s,r)},nw=(t,e,n)=>{let i=(e._searchMarker||[]).reduce((l,s)=>s.index>l.index?s:l,{index:0,p:e._start}).p;if(i)for(;i.right;)i=i.right;return Hl(t,e,i,n)},pp=(t,e,n,r)=>{if(r===0)return;const i=n,l=r,s=ys(e,n);let o=e._start;for(s!==null&&(o=s.p,n-=s.index);o!==null&&n>0;o=o.right)!o.deleted&&o.countable&&(n<o.length&&tn(t,V(o.id.client,o.id.clock+n)),n-=o.length);for(;r>0&&o!==null;)o.deleted||(r<o.length&&tn(t,V(o.id.client,o.id.clock+r)),o.delete(t),r-=o.length),o=o.right;if(r>0)throw dp();e._searchMarker&&gi(e._searchMarker,i,-l+r)},Wl=(t,e,n)=>{const r=e._map.get(n);r!==void 0&&r.delete(t)},yc=(t,e,n,r)=>{const i=e._map.get(n)||null,l=t.doc,s=l.clientID;let o;if(r==null)o=new Dn([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:o=new Dn([r]);break;case Uint8Array:o=new Ni(r);break;case Sr:o=new Ti(r);break;default:if(r instanceof ve)o=new Mt(r);else throw new Error("Unexpected content type")}new oe(V(s,de(l.store,s)),i,i&&i.lastId,null,null,e,n,o).integrate(t,0)},vc=(t,e)=>{t.doc??Ee();const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},gp=t=>{const e={};return t.doc??Ee(),t._map.forEach((n,r)=>{n.deleted||(e[r]=n.content.getContent()[n.length-1])}),e},mp=(t,e)=>{t.doc??Ee();const n=t._map.get(e);return n!==void 0&&!n.deleted},rw=(t,e)=>{const n={};return t._map.forEach((r,i)=>{let l=r;for(;l!==null&&(!e.sv.has(l.id.client)||l.id.clock>=(e.sv.get(l.id.client)||0));)l=l.left;l!==null&&Mn(l,e)&&(n[i]=l.content.getContent()[l.length-1])}),n},Zi=t=>(t.doc??Ee(),C0(t._map.entries(),e=>!e[1].deleted));class iw extends ms{}class tr extends ve{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new tr;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new tr}clone(){const e=new tr;return e.insert(0,this.toArray().map(n=>n instanceof ve?n.clone():n)),e}get length(){return this.doc??Ee(),this._length}_callObserver(e,n){super._callObserver(e,n),vs(this,e,new iw(this,e))}insert(e,n){this.doc!==null?J(this.doc,r=>{hp(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?J(this.doc,n=>{nw(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?J(this.doc,r=>{pp(r,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return fp(this,e)}toArray(){return cp(this)}slice(e=0,n=this.length){return up(this,e,n)}toJSON(){return this.map(e=>e instanceof ve?e.toJSON():e)}map(e){return ap(this,e)}forEach(e){mi(this,e)}[Symbol.iterator](){return tw(this)}_write(e){e.writeTypeRef(Lw)}}const lw=t=>new tr;class sw extends ms{constructor(e,n,r){super(e,n),this.keysChanged=r}}class dr extends ve{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((r,i)=>{this.set(i,r)}),this._prelimContent=null}_copy(){return new dr}clone(){const e=new dr;return this.forEach((n,r)=>{e.set(r,n instanceof ve?n.clone():n)}),e}_callObserver(e,n){vs(this,e,new sw(this,e,n))}toJSON(){this.doc??Ee();const e={};return this._map.forEach((n,r)=>{if(!n.deleted){const i=n.content.getContent()[n.length-1];e[r]=i instanceof ve?i.toJSON():i}}),e}get size(){return[...Zi(this)].length}keys(){return qs(Zi(this),e=>e[0])}values(){return qs(Zi(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return qs(Zi(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??Ee(),this._map.forEach((n,r)=>{n.deleted||e(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?J(this.doc,n=>{Wl(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?J(this.doc,r=>{yc(r,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return vc(this,e)}has(e){return mp(this,e)}clear(){this.doc!==null?J(this.doc,e=>{this.forEach(function(n,r,i){Wl(e,i,r)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(Ow)}}const ow=t=>new dr,Vt=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&t0(t,e);class su{constructor(e,n,r,i){this.left=e,this.right=n,this.index=r,this.currentAttributes=i}forward(){switch(this.right===null&&mt(),this.right.content.constructor){case ue:this.right.deleted||kr(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const nf=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case ue:e.right.deleted||kr(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&tn(t,V(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},bi=(t,e,n,r)=>{const i=new Map,l=r?ys(e,n):null;if(l){const s=new su(l.p.left,l.p,l.index,i);return nf(t,s,n-l.index)}else{const s=new su(null,e._start,0,i);return nf(t,s,n)}},yp=(t,e,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===ue&&Vt(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const i=t.doc,l=i.clientID;r.forEach((s,o)=>{const u=n.left,c=n.right,a=new oe(V(l,de(i.store,l)),u,u&&u.lastId,c,c&&c.id,e,null,new ue(o,s));a.integrate(t,0),n.right=a,n.forward()})},kr=(t,e)=>{const{key:n,value:r}=e;r===null?t.delete(n):t.set(n,r)},vp=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===ue&&Vt(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},wp=(t,e,n,r)=>{const i=t.doc,l=i.clientID,s=new Map;for(const o in r){const u=r[o],c=n.currentAttributes.get(o)??null;if(!Vt(c,u)){s.set(o,c);const{left:a,right:f}=n;n.right=new oe(V(l,de(i.store,l)),a,a&&a.lastId,f,f&&f.id,e,null,new ue(o,u)),n.right.integrate(t,0),n.forward()}}return s},no=(t,e,n,r,i)=>{n.currentAttributes.forEach((d,p)=>{i[p]===void 0&&(i[p]=null)});const l=t.doc,s=l.clientID;vp(n,i);const o=wp(t,e,n,i),u=r.constructor===String?new vt(r):r instanceof ve?new Mt(r):new On(r);let{left:c,right:a,index:f}=n;e._searchMarker&&gi(e._searchMarker,n.index,u.getLength()),a=new oe(V(s,de(l.store,s)),c,c&&c.lastId,a,a&&a.id,e,null,u),a.integrate(t,0),n.right=a,n.index=f,n.forward(),yp(t,e,n,o)},rf=(t,e,n,r,i)=>{const l=t.doc,s=l.clientID;vp(n,i);const o=wp(t,e,n,i);e:for(;n.right!==null&&(r>0||o.size>0&&(n.right.deleted||n.right.content.constructor===ue));){if(!n.right.deleted)switch(n.right.content.constructor){case ue:{const{key:u,value:c}=n.right.content,a=i[u];if(a!==void 0){if(Vt(a,c))o.delete(u);else{if(r===0)break e;o.set(u,c)}n.right.delete(t)}else n.currentAttributes.set(u,c);break}default:r<n.right.length&&tn(t,V(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let u="";for(;r>0;r--)u+=`
`;n.right=new oe(V(s,de(l.store,s)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new vt(u)),n.right.integrate(t,0),n.forward()}yp(t,e,n,o)},Sp=(t,e,n,r,i)=>{let l=e;const s=lt();for(;l&&(!l.countable||l.deleted);){if(!l.deleted&&l.content.constructor===ue){const c=l.content;s.set(c.key,c)}l=l.right}let o=0,u=!1;for(;e!==l;){if(n===e&&(u=!0),!e.deleted){const c=e.content;switch(c.constructor){case ue:{const{key:a,value:f}=c,d=r.get(a)??null;(s.get(a)!==c||d===f)&&(e.delete(t),o++,!u&&(i.get(a)??null)===f&&d!==f&&(d===null?i.delete(a):i.set(a,d))),!u&&!e.deleted&&kr(i,c);break}}}e=e.right}return o},uw=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===ue){const r=e.content.key;n.has(r)?e.delete(t):n.add(r)}e=e.left}},cw=t=>{let e=0;return J(t.doc,n=>{let r=t._start,i=t._start,l=lt();const s=qo(l);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case ue:kr(s,i.content);break;default:e+=Sp(n,r,i,l,s),l=qo(s),r=i;break}i=i.right}}),e},aw=t=>{const e=new Set,n=t.doc;for(const[r,i]of t.afterState.entries()){const l=t.beforeState.get(r)||0;i!==l&&rp(t,n.store.clients.get(r),l,i,s=>{!s.deleted&&s.content.constructor===ue&&s.constructor!==Ye&&e.add(s.parent)})}J(n,r=>{Yh(t,t.deleteSet,i=>{if(i instanceof Ye||!i.parent._hasFormatting||e.has(i.parent))return;const l=i.parent;i.content.constructor===ue?e.add(l):uw(r,i)});for(const i of e)cw(i)})},lf=(t,e,n)=>{const r=n,i=qo(e.currentAttributes),l=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case Mt:case On:case vt:n<e.right.length&&tn(t,V(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}l&&Sp(t,l,e.right,i,e.currentAttributes);const s=(e.left||e.right).parent;return s._searchMarker&&gi(s._searchMarker,e.index,-r+n),e};class fw extends ms{constructor(e,n,r){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(i=>{i===null?this.childListChanged=!0:this.keysChanged.add(i)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];J(e,r=>{const i=new Map,l=new Map;let s=this.target._start,o=null;const u={};let c="",a=0,f=0;const d=()=>{if(o!==null){let p=null;switch(o){case"delete":f>0&&(p={delete:f}),f=0;break;case"insert":(typeof c=="object"||c.length>0)&&(p={insert:c},i.size>0&&(p.attributes={},i.forEach((y,v)=>{y!==null&&(p.attributes[v]=y)}))),c="";break;case"retain":a>0&&(p={retain:a},bv(u)||(p.attributes=Gv({},u))),a=0;break}p&&n.push(p),o=null}};for(;s!==null;){switch(s.content.constructor){case Mt:case On:this.adds(s)?this.deletes(s)||(d(),o="insert",c=s.content.getContent()[0],d()):this.deletes(s)?(o!=="delete"&&(d(),o="delete"),f+=1):s.deleted||(o!=="retain"&&(d(),o="retain"),a+=1);break;case vt:this.adds(s)?this.deletes(s)||(o!=="insert"&&(d(),o="insert"),c+=s.content.str):this.deletes(s)?(o!=="delete"&&(d(),o="delete"),f+=s.length):s.deleted||(o!=="retain"&&(d(),o="retain"),a+=s.length);break;case ue:{const{key:p,value:y}=s.content;if(this.adds(s)){if(!this.deletes(s)){const v=i.get(p)??null;Vt(v,y)?y!==null&&s.delete(r):(o==="retain"&&d(),Vt(y,l.get(p)??null)?delete u[p]:u[p]=y)}}else if(this.deletes(s)){l.set(p,y);const v=i.get(p)??null;Vt(v,y)||(o==="retain"&&d(),u[p]=v)}else if(!s.deleted){l.set(p,y);const v=u[p];v!==void 0&&(Vt(v,y)?v!==null&&s.delete(r):(o==="retain"&&d(),y===null?delete u[p]:u[p]=y))}s.deleted||(o==="insert"&&d(),kr(i,s.content));break}}s=s.right}for(d();n.length>0;){const p=n[n.length-1];if(p.retain!==void 0&&p.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class hr extends ve{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??Ee(),this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new hr}clone(){const e=new hr;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const r=new fw(this,e,n);vs(this,e,r),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??Ee();let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===vt&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?J(this.doc,r=>{const i=new su(null,this._start,0,new Map);for(let l=0;l<e.length;l++){const s=e[l];if(s.insert!==void 0){const o=!n&&typeof s.insert=="string"&&l===e.length-1&&i.right===null&&s.insert.slice(-1)===`
`?s.insert.slice(0,-1):s.insert;(typeof o!="string"||o.length>0)&&no(r,this,i,o,s.attributes||{})}else s.retain!==void 0?rf(r,this,i,s.retain,s.attributes||{}):s.delete!==void 0&&lf(r,i,s.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,r){this.doc??Ee();const i=[],l=new Map,s=this.doc;let o="",u=this._start;function c(){if(o.length>0){const f={};let d=!1;l.forEach((y,v)=>{d=!0,f[v]=y});const p={insert:o};d&&(p.attributes=f),i.push(p),o=""}}const a=()=>{for(;u!==null;){if(Mn(u,e)||n!==void 0&&Mn(u,n))switch(u.content.constructor){case vt:{const f=l.get("ychange");e!==void 0&&!Mn(u,e)?(f===void 0||f.user!==u.id.client||f.type!=="removed")&&(c(),l.set("ychange",r?r("removed",u.id):{type:"removed"})):n!==void 0&&!Mn(u,n)?(f===void 0||f.user!==u.id.client||f.type!=="added")&&(c(),l.set("ychange",r?r("added",u.id):{type:"added"})):f!==void 0&&(c(),l.delete("ychange")),o+=u.content.str;break}case Mt:case On:{c();const f={insert:u.content.getContent()[0]};if(l.size>0){const d={};f.attributes=d,l.forEach((p,y)=>{d[y]=p})}i.push(f);break}case ue:Mn(u,e)&&(c(),kr(l,u.content));break}u=u.right}c()};return e||n?J(s,f=>{e&&iu(f,e),n&&iu(f,n),a()},"cleanup"):a(),i}insert(e,n,r){if(n.length<=0)return;const i=this.doc;i!==null?J(i,l=>{const s=bi(l,this,e,!r);r||(r={},s.currentAttributes.forEach((o,u)=>{r[u]=o})),no(l,this,s,n,r)}):this._pending.push(()=>this.insert(e,n,r))}insertEmbed(e,n,r){const i=this.doc;i!==null?J(i,l=>{const s=bi(l,this,e,!r);no(l,this,s,n,r||{})}):this._pending.push(()=>this.insertEmbed(e,n,r||{}))}delete(e,n){if(n===0)return;const r=this.doc;r!==null?J(r,i=>{lf(i,bi(i,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,r){if(n===0)return;const i=this.doc;i!==null?J(i,l=>{const s=bi(l,this,e,!1);s.right!==null&&rf(l,this,s,n,r)}):this._pending.push(()=>this.format(e,n,r))}removeAttribute(e){this.doc!==null?J(this.doc,n=>{Wl(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?J(this.doc,r=>{yc(r,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return vc(this,e)}getAttributes(){return gp(this)}_write(e){e.writeTypeRef(Pw)}}const dw=t=>new hr;class ro{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??Ee()}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===pr||n.constructor===xn)&&n._start!==null)e=n._start;else for(;e!==null;){const r=e.next;if(r!==null){e=r;break}else e.parent===this._root?e=null:e=e.parent._item}while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class xn extends ve{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new xn}clone(){const e=new xn;return e.insert(0,this.toArray().map(n=>n instanceof ve?n.clone():n)),e}get length(){return this.doc??Ee(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new ro(this,e)}querySelector(e){e=e.toUpperCase();const r=new ro(this,i=>i.nodeName&&i.nodeName.toUpperCase()===e).next();return r.done?null:r.value}querySelectorAll(e){return e=e.toUpperCase(),En(new ro(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){vs(this,e,new gw(this,n,e))}toString(){return ap(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},r){const i=e.createDocumentFragment();return r!==void 0&&r._createAssociation(i,this),mi(this,l=>{i.insertBefore(l.toDOM(e,n,r),null)}),i}insert(e,n){this.doc!==null?J(this.doc,r=>{hp(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)J(this.doc,r=>{const i=e&&e instanceof ve?e._item:e;Hl(r,this,i,n)});else{const r=this._prelimContent,i=e===null?0:r.findIndex(l=>l===e)+1;if(i===0&&e!==null)throw en("Reference item not found");r.splice(i,0,...n)}}delete(e,n=1){this.doc!==null?J(this.doc,r=>{pp(r,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return cp(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return fp(this,e)}slice(e=0,n=this.length){return up(this,e,n)}forEach(e){mi(this,e)}_write(e){e.writeTypeRef(Rw)}}const hw=t=>new xn;class pr extends xn{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((r,i)=>{this.setAttribute(i,r)}),this._prelimAttrs=null}_copy(){return new pr(this.nodeName)}clone(){const e=new pr(this.nodeName),n=this.getAttributes();return Zv(n,(r,i)=>{typeof r=="string"&&e.setAttribute(i,r)}),e.insert(0,this.toArray().map(r=>r instanceof ve?r.clone():r)),e}toString(){const e=this.getAttributes(),n=[],r=[];for(const o in e)r.push(o);r.sort();const i=r.length;for(let o=0;o<i;o++){const u=r[o];n.push(u+'="'+e[u]+'"')}const l=this.nodeName.toLocaleLowerCase(),s=n.length>0?" "+n.join(" "):"";return`<${l}${s}>${super.toString()}</${l}>`}removeAttribute(e){this.doc!==null?J(this.doc,n=>{Wl(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?J(this.doc,r=>{yc(r,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return vc(this,e)}hasAttribute(e){return mp(this,e)}getAttributes(e){return e?rw(this,e):gp(this)}toDOM(e=document,n={},r){const i=e.createElement(this.nodeName),l=this.getAttributes();for(const s in l){const o=l[s];typeof o=="string"&&i.setAttribute(s,o)}return mi(this,s=>{i.appendChild(s.toDOM(e,n,r))}),r!==void 0&&r._createAssociation(i,this),i}_write(e){e.writeTypeRef(Mw),e.writeKey(this.nodeName)}}const pw=t=>new pr(t.readKey());class gw extends ms{constructor(e,n,r){super(e,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(i=>{i===null?this.childListChanged=!0:this.attributesChanged.add(i)})}}class Ql extends dr{constructor(e){super(),this.hookName=e}_copy(){return new Ql(this.hookName)}clone(){const e=new Ql(this.hookName);return this.forEach((n,r)=>{e.set(r,n)}),e}toDOM(e=document,n={},r){const i=n[this.hookName];let l;return i!==void 0?l=i.createDom(this):l=document.createElement(this.hookName),l.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(l,this),l}_write(e){e.writeTypeRef(Iw),e.writeKey(this.hookName)}}const mw=t=>new Ql(t.readKey());class Kl extends hr{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new Kl}clone(){const e=new Kl;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,r){const i=e.createTextNode(this.toString());return r!==void 0&&r._createAssociation(i,this),i}toString(){return this.toDelta().map(e=>{const n=[];for(const i in e.attributes){const l=[];for(const s in e.attributes[i])l.push({key:s,value:e.attributes[i][s]});l.sort((s,o)=>s.key<o.key?-1:1),n.push({nodeName:i,attrs:l})}n.sort((i,l)=>i.nodeName<l.nodeName?-1:1);let r="";for(let i=0;i<n.length;i++){const l=n[i];r+=`<${l.nodeName}`;for(let s=0;s<l.attrs.length;s++){const o=l.attrs[s];r+=` ${o.key}="${o.value}"`}r+=">"}r+=e.insert;for(let i=n.length-1;i>=0;i--)r+=`</${n[i].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(jw)}}const yw=t=>new Kl;class wc{constructor(e,n){this.id=e,this.length=n}get deleted(){throw gt()}mergeWith(e){return!1}write(e,n,r){throw gt()}integrate(e,n){throw gt()}}const vw=0;class Ye extends wc{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),np(e.doc.store,this)}write(e,n){e.writeInfo(vw),e.writeLen(this.length-n)}getMissing(e,n){return null}}class Ni{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Ni(this.content)}splice(e){throw gt()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const ww=t=>new Ni(t.readBuf());class yi{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new yi(this.len)}splice(e){const n=new yi(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){Vl(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const Sw=t=>new yi(t.readLen()),kp=(t,e)=>new Sr({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class Ti{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Ti(kp(this.doc.guid,this.opts))}splice(e){throw gt()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const kw=t=>new Ti(kp(t.readString(),t.readAny()));class On{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new On(this.embed)}splice(e){throw gt()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const Cw=t=>new On(t.readJSON());class ue{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new ue(this.key,this.value)}splice(e){throw gt()}mergeWith(e){return!1}integrate(e,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const Ew=t=>new ue(t.readKey(),t.readJSON());class Yl{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Yl(this.arr)}splice(e){const n=new Yl(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let i=n;i<r;i++){const l=this.arr[i];e.writeString(l===void 0?"undefined":JSON.stringify(l))}}getRef(){return 2}}const _w=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++){const i=t.readString();i==="undefined"?n.push(void 0):n.push(JSON.parse(i))}return new Yl(n)},xw=$l("node_env")==="development";class Dn{constructor(e){this.arr=e,xw&&zh(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Dn(this.arr)}splice(e){const n=new Dn(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let i=n;i<r;i++){const l=this.arr[i];e.writeAny(l)}}getRef(){return 8}}const Dw=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++)n.push(t.readAny());return new Dn(n)};class vt{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new vt(this.str)}splice(e){const n=new vt(this.str.slice(e));this.str=this.str.slice(0,e);const r=this.str.charCodeAt(e-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,e-1)+"�",n.str="�"+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const Nw=t=>new vt(t.readString()),Tw=[lw,ow,dw,pw,hw,mw,yw],Lw=0,Ow=1,Pw=2,Mw=3,Rw=4,Iw=5,jw=6;class Mt{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Mt(this.type._copy())}splice(e){throw gt()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(e.beforeState.get(r.id.client)||0)&&e._mergeStructs.push(r):r.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(e,!0),r=r.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const Aw=t=>new Mt(Tw[t.readTypeRef()](t)),Jl=(t,e,n)=>{const{client:r,clock:i}=e.id,l=new oe(V(r,i+n),e,V(r,i+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&l.markDeleted(),e.keep&&(l.keep=!0),e.redone!==null&&(l.redone=V(e.redone.client,e.redone.clock+n)),e.right=l,l.right!==null&&(l.right.left=l),t._mergeStructs.push(l),l.parentSub!==null&&l.right===null&&l.parent._map.set(l.parentSub,l),e.length=n,l};class oe extends wc{constructor(e,n,r,i,l,s,o,u){super(e,u.getLength()),this.origin=r,this.left=n,this.right=i,this.rightOrigin=l,this.parent=s,this.parentSub=o,this.redone=null,this.content=u,this.info=this.content.isCountable()?Ua:0}set marker(e){(this.info&Xs)>0!==e&&(this.info^=Xs)}get marker(){return(this.info&Xs)>0}get keep(){return(this.info&Aa)>0}set keep(e){this.keep!==e&&(this.info^=Aa)}get countable(){return(this.info&Ua)>0}get deleted(){return(this.info&Gs)>0}set deleted(e){this.deleted!==e&&(this.info^=Gs)}markDeleted(){this.info|=Gs}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=de(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=de(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===er&&this.id.client!==this.parent.client&&this.parent.clock>=de(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=ba(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=tn(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===Ye||this.right&&this.right.constructor===Ye)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===oe?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===oe&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===er){const r=to(n,this.parent);r.constructor===Ye?this.parent=null:this.parent=r.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=ba(e,e.doc.store,V(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,i;if(r!==null)i=r.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;const l=new Set,s=new Set;for(;i!==null&&i!==this.right;){if(s.add(i),l.add(i),Xi(this.origin,i.origin)){if(i.id.client<this.id.client)r=i,l.clear();else if(Xi(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&s.has(to(e.doc.store,i.origin)))l.has(to(e.doc.store,i.origin))||(r=i,l.clear());else break;i=i.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),np(e.doc.store,this),this.content.integrate(e,this),ef(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new Ye(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:V(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&Xi(e.origin,this.lastId)&&this.right===e&&Xi(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===e&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),Vl(e.deleteSet,this.id.client,this.id.clock,this.length),ef(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw mt();this.content.gc(e),n?V0(e,this,new Ye(this.id,this.length)):this.content=new yi(this.length)}write(e,n){const r=n>0?V(this.id.client,this.id.clock+n-1):this.origin,i=this.rightOrigin,l=this.parentSub,s=this.content.getRef()&ds|(r===null?0:Ve)|(i===null?0:xt)|(l===null?0:ai);if(e.writeInfo(s),r!==null&&e.writeLeftID(r),i!==null&&e.writeRightID(i),r===null&&i===null){const o=this.parent;if(o._item!==void 0){const u=o._item;if(u===null){const c=F0(o);e.writeParentInfo(!0),e.writeString(c)}else e.writeParentInfo(!1),e.writeLeftID(u.id)}else o.constructor===String?(e.writeParentInfo(!0),e.writeString(o)):o.constructor===er?(e.writeParentInfo(!1),e.writeLeftID(o)):mt();l!==null&&e.writeString(l)}this.content.write(e,n)}}const Cp=(t,e)=>Uw[e&ds](t),Uw=[()=>{mt()},Sw,_w,ww,Nw,Cw,Ew,Aw,Dw,kw,()=>{mt()}],zw=10;class Je extends wc{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){mt()}write(e,n){e.writeInfo(zw),H(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const Ep=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:{},_p="__ $YJS$ __";Ep[_p]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");Ep[_p]=!0;class Fw extends tc{constructor(){super(),this.ydoc=new Sr,this.ytext=this.ydoc.getText("code"),this.isDestroyed=!1,this.setupEventHandlers()}setupEventHandlers(){this.ytext.observe((e,n)=>{if(n.local){const r=eo(this.ydoc);this.emit("localChange",{update:Array.from(r),delta:e.delta})}else this.emit("remoteChange",{delta:e.delta})}),this.ydoc.on("update",(e,n)=>{n!=="remote"&&this.emit("stateUpdate",Array.from(e))})}applyRemoteUpdate(e){if(!this.isDestroyed)try{const n=new Uint8Array(e);Ja(this.ydoc,n,"remote")}catch(n){console.error("Failed to apply remote update:",n)}}getDocumentState(){return eo(this.ydoc)}insertText(e,n){this.isDestroyed||this.ytext.insert(e,n)}deleteText(e,n){this.isDestroyed||this.ytext.delete(e,n)}replaceText(e,n,r){this.isDestroyed||(this.ytext.delete(e,n),r&&this.ytext.insert(e,r))}getText(){return this.ytext.toString()}setText(e){this.isDestroyed||(this.ytext.delete(0,this.ytext.length),e&&this.ytext.insert(0,e))}applyMonacoDelta(e){if(this.isDestroyed)return;let n=0;for(const r of e)r.retain?n+=r.retain:r.delete?this.ytext.delete(n,r.delete):r.insert&&(this.ytext.insert(n,r.insert),n+=r.insert.length)}convertYDeltaToMonaco(e){const n=[];let r=0;for(const i of e)i.retain?r+=i.retain:i.delete?n.push({range:{startLineNumber:1,startColumn:r+1,endLineNumber:1,endColumn:r+i.delete+1},text:""}):i.insert&&(n.push({range:{startLineNumber:1,startColumn:r+1,endLineNumber:1,endColumn:r+1},text:i.insert}),r+=i.insert.length);return n}syncWithPeer(e){if(this.isDestroyed)return null;const n=this.getDocumentState();return{type:"sync-state",state:Array.from(n),peerId:e}}handleSyncRequest(e){if(!this.isDestroyed)try{const n=new Uint8Array(e);Ja(this.ydoc,n,"remote")}catch(n){console.error("Failed to handle sync request:",n)}}getStats(){return{length:this.ytext.length,clientId:this.ydoc.clientID,stateSize:eo(this.ydoc).length}}destroy(){this.isDestroyed||(this.isDestroyed=!0,this.ydoc.destroy(),this.removeAllListeners())}}class $w extends tc{constructor(e,n){super(),this.discovery=e,this.crdtManager=n,this.syncedPeers=new Set,this.isDestroyed=!1,this.setupEventHandlers()}setupEventHandlers(){this.discovery.on("peerConnected",({peerId:e,peer:n})=>{this.handlePeerConnected(e)}),this.discovery.on("peerDisconnected",({peerId:e})=>{this.handlePeerDisconnected(e)}),this.discovery.on("peerMessage",({peerId:e,message:n})=>{this.handlePeerMessage(e,n)}),this.crdtManager.on("localChange",({update:e,delta:n})=>{this.broadcastUpdate(e)}),this.crdtManager.on("remoteChange",({delta:e})=>{this.emit("documentChange",{delta:e})}),this.crdtManager.on("stateUpdate",e=>{this.broadcastUpdate(e)})}handlePeerConnected(e){if(this.isDestroyed)return;const n=this.crdtManager.syncWithPeer(e);n&&this.discovery.sendToPeer(e,n),this.syncedPeers.add(e),this.emit("peerSynced",{peerId:e})}handlePeerDisconnected(e){this.isDestroyed||(this.syncedPeers.delete(e),this.emit("peerUnsynced",{peerId:e}))}handlePeerMessage(e,n){if(!this.isDestroyed)switch(n.type){case"sync-state":this.handleSyncState(e,n.state);break;case"crdt-update":this.handleCRDTUpdate(e,n.update);break;case"cursor-update":this.handleCursorUpdate(e,n);break;case"user-awareness":this.handleUserAwareness(e,n);break}}handleSyncState(e,n){this.crdtManager.handleSyncRequest(n)}handleCRDTUpdate(e,n){this.crdtManager.applyRemoteUpdate(n)}handleCursorUpdate(e,n){this.emit("cursorUpdate",{peerId:e,position:n.position,selection:n.selection})}handleUserAwareness(e,n){this.emit("userAwareness",{peerId:e,user:n.user})}broadcastUpdate(e){if(this.isDestroyed)return;const n={type:"crdt-update",update:Array.from(e)};this.discovery.broadcast(n)}broadcastCursor(e,n=null){if(this.isDestroyed)return;const r={type:"cursor-update",position:e,selection:n,timestamp:Date.now()};this.discovery.broadcast(r)}broadcastUserAwareness(e){if(this.isDestroyed)return;const n={type:"user-awareness",user:e,timestamp:Date.now()};this.discovery.broadcast(n)}insertText(e,n){this.crdtManager.insertText(e,n)}deleteText(e,n){this.crdtManager.deleteText(e,n)}replaceText(e,n,r){this.crdtManager.replaceText(e,n,r)}getText(){return this.crdtManager.getText()}setText(e){this.crdtManager.setText(e)}applyMonacoDelta(e){this.crdtManager.applyMonacoDelta(e)}getStats(){return{syncedPeers:this.syncedPeers.size,peers:Array.from(this.syncedPeers).map(e=>e.slice(0,8)),crdt:this.crdtManager.getStats()}}destroy(){this.isDestroyed||(this.isDestroyed=!0,this.syncedPeers.clear(),this.removeAllListeners())}}const Vw=50,xp=50,io=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#FFB347","#87CEEB","#F0E68C","#FFE4E1"],sf=["swift","bright","quiet","calm","bold","clever","gentle","happy","kind","warm"],of=["fox","wolf","bear","eagle","tiger","shark","lion","hawk","deer","owl"],Bw=()=>{const t=sf[Math.floor(Math.random()*sf.length)],e=of[Math.floor(Math.random()*of.length)],n=Math.floor(Math.random()*100);return`${t}-${e}-${n}`},Hw=t=>!t||typeof t!="string"||t.length>xp?!1:/^[a-zA-Z0-9-_]+$/.test(t),Ww=t=>t?t.trim().toLowerCase().slice(0,xp):"",Qw=t=>{if(!t)return io[0];const e=t.split("").reduce((n,r)=>n+r.charCodeAt(0),0);return io[e%io.length]},Kw=(t,e)=>{let n;const r=(...i)=>{clearTimeout(n),n=setTimeout(()=>t.apply(void 0,i),e)};return r.cancel=()=>{clearTimeout(n)},r};function Yw(t,e={}){const[n,r]=N.useState(!1),[i,l]=N.useState([]),[s,o]=N.useState("disconnected"),[u,c]=N.useState(null),a=N.useRef(null),f=N.useRef(null),d=N.useRef(null),[p,y]=N.useState({}),[v,x]=N.useState({}),{serverUrl:m="ws://localhost:8080",userName:h="Anonymous"}=e;return N.useEffect(()=>{if(!t)return;let S=!0,I=null;const _=async()=>{try{o("connecting"),c(null),I=setTimeout(async()=>{S&&(f.current=new Fw,a.current=new cv(m),d.current=new $w(a.current,f.current),B(),await a.current.joinRoom(t,h),S&&r(!0))},100)}catch(A){S&&(c(A.message),o("failed"))}},B=()=>{a.current.on("serverConnected",()=>{S&&o("connecting")}),a.current.on("serverDisconnected",()=>{S&&o("disconnected")}),a.current.on("serverError",A=>{S&&(c("Server peer connection failed"),o("failed"))}),a.current.on("roomJoined",({documentState:A})=>{S&&(o("connected"),A&&f.current&&f.current.applyRemoteUpdate(A))}),a.current.on("peerConnected",()=>{S&&Y()}),a.current.on("peerDisconnected",({peerId:A})=>{S&&(Y(),Q(A))}),a.current.on("peerMessage",({peerId:A,message:O})=>{var R,pe;S&&((pe=(R=d.current)==null?void 0:R.handlePeerMessage)==null||pe.call(R,A,O))}),d.current.on("cursorUpdate",({peerId:A,position:O,selection:R})=>{S&&y(pe=>({...pe,[A]:{position:O,selection:R,timestamp:Date.now(),color:Qw(A)}}))}),d.current.on("userAwareness",({peerId:A,user:O})=>{S&&x(R=>({...R,[A]:O}))}),a.current.on("error",A=>{S&&c(A.message)})},Y=()=>{var O;if(!S)return;const A=((O=a.current)==null?void 0:O.getConnectedPeers())||[];l(A)},Q=A=>{y(O=>{const R={...O};return delete R[A],R}),x(O=>{const R={...O};return delete R[A],R})};return _(),()=>{S=!1,I&&(clearTimeout(I),I=null);try{d.current&&(d.current.destroy(),d.current=null),f.current&&(f.current.destroy(),f.current=null),a.current&&(a.current.destroy(),a.current=null)}catch{}}},[t,m,h]),{isConnected:n,peers:i,connectionState:s,error:u,cursors:p,users:v,sendOperation:S=>{if(d.current)switch(S.type){case"text-insert":d.current.insertText(S.index,S.text);break;case"text-delete":d.current.deleteText(S.index,S.length);break;case"text-replace":d.current.replaceText(S.index,S.length,S.text);break;case"cursor-move":d.current.broadcastCursor(S.position,S.selection);break;case"user-awareness":d.current.broadcastUserAwareness(S.user);break}},getText:()=>{var S;return((S=d.current)==null?void 0:S.getText())||""},setText:S=>{var I;(I=d.current)==null||I.setText(S)},applyMonacoDelta:S=>{var I;(I=d.current)==null||I.applyMonacoDelta(S)},getStats:()=>{var S;return{room:t,isConnected:n,connectionState:s,peers:i.length,serverUrl:m,sync:((S=d.current)==null?void 0:S.getStats())||{}}},syncManager:d.current}}function Jw({cursor:t,position:e,activityState:n="active"}){if(!e||!t.color)return null;const r=n==="typing"?"active typing":n;return C.jsx("div",{className:`remote-cursor ${r}`,style:{"--cursor-color":t.color,"--glow-intensity":.8,left:e.x,top:e.y}})}function Gw({cursor:t,position:e,activityState:n="active"}){return!e||!t.name?null:C.jsx("div",{className:`cursor-label ${n}`,style:{"--cursor-color":t.color,left:e.x+4,top:e.y},children:t.name})}function Xw({editor:t,selection:e,color:n}){const[r,i]=N.useState([]);return N.useEffect(()=>{if(!t||!e||!n){i([]);return}if(!e.getStartPosition||!e.getEndPosition){i([]);return}const l=()=>{try{const o=e.getStartPosition(),u=e.getEndPosition();if(!o||!u||o.equals(u)){i([]);return}const c=[];if(o.lineNumber===u.lineNumber){const a=t.getScrolledVisiblePosition(o),f=t.getScrolledVisiblePosition(u);a&&f&&c.push({left:a.left,top:a.top,width:f.left-a.left,height:18})}else for(let a=o.lineNumber;a<=u.lineNumber;a++){const f=a===o.lineNumber?o.column:1,d=a===u.lineNumber?u.column:t.getModel().getLineMaxColumn(a),p={lineNumber:a,column:f},y={lineNumber:a,column:d},v=t.getScrolledVisiblePosition(p),x=t.getScrolledVisiblePosition(y);v&&x&&c.push({left:v.left,top:v.top,width:x.left-v.left,height:18})}i(c)}catch(o){console.warn("Selection highlight error:",o),i([])}};l();const s=[t.onDidChangeModelContent(l),t.onDidScrollChange(l),t.onDidLayoutChange(l)];return()=>{s.forEach(o=>{o&&typeof o.dispose=="function"&&o.dispose()})}},[t,e,n]),r.length===0?null:C.jsx(C.Fragment,{children:r.map((l,s)=>C.jsx("div",{className:"selection-highlight",style:{position:"absolute",left:l.left,top:l.top,width:l.width,height:l.height,backgroundColor:n,opacity:.2,pointerEvents:"none",zIndex:999}},s))})}function Zw({cursor:t,editor:e}){if(!t||!t.id||!e)return null;const[n,r]=N.useState("active"),i=N.useRef(Date.now()),l=N.useRef(null),s=N.useRef(null),o=t.position?e.getScrolledVisiblePosition(t.position):null,u=o&&typeof o.left=="number"&&typeof o.top=="number"&&!isNaN(o.left)&&!isNaN(o.top)?{x:o.left,y:o.top}:null;if(N.useEffect(()=>{if(!u)return;const a=Date.now();if(!l.current||l.current.x!==u.x||l.current.y!==u.y){i.current=a,l.current=u;const d=t.timestamp&&a-t.timestamp<1e3;r(d?"typing":"active"),s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{r("idle")},3e3),setTimeout(()=>{Date.now()-i.current>=3e4&&r("away")},3e4)}return()=>{s.current&&clearTimeout(s.current)}},[u,t.timestamp]),!u)return null;const c=t.selection&&t.selection.getStartPosition&&t.selection.getEndPosition&&typeof t.selection.getStartPosition=="function";return C.jsxs("div",{className:"cursor-container",children:[C.jsx(Jw,{cursor:t,position:u,activityState:n}),C.jsx(Gw,{cursor:t,position:u,activityState:n}),c&&C.jsx(Xw,{editor:e,selection:t.selection,color:t.color})]},t.id)}function bw({cursors:t,users:e,editor:n}){const[r,i]=N.useState([]);return N.useEffect(()=>{if(!n||!t){i([]);return}const l=()=>{try{const o=Object.entries(t).map(([u,c])=>{const a=e[u]||{name:u.slice(0,8)};return c.position?{id:u,position:c.position,color:c.color,name:a.name,selection:c.selection}:null}).filter(Boolean);i(o)}catch(o){console.warn("Error updating cursors:",o),i([])}};l();const s=[n.onDidChangeModelContent(l),n.onDidScrollChange(l),n.onDidLayoutChange(l)];return()=>{s.forEach(o=>{o&&typeof o.dispose=="function"&&o.dispose()})}},[n,t,e]),!n||r.length===0?null:C.jsx("div",{className:"user-cursors",children:r.map(l=>C.jsx(Zw,{cursor:l,editor:n},l.id))})}function qw({code:t,language:e,roomCode:n}){const[r,i]=N.useState(!1),l=c=>({javascript:"js",typescript:"ts",python:"py",java:"java",cpp:"cpp",html:"html",css:"css",json:"json",markdown:"md"})[c]||"txt",s=async()=>{if(!t.trim()){alert("No code to export!");return}i(!0);try{const c=l(e),a=`kompa-${n}-${Date.now()}.${c}`,f=new Blob([t],{type:"text/plain;charset=utf-8"}),d=URL.createObjectURL(f),p=document.createElement("a");p.href=d,p.download=a,p.style.display="none",document.body.appendChild(p),p.click(),document.body.removeChild(p),setTimeout(()=>URL.revokeObjectURL(d),100)}catch(c){console.error("Export failed:",c),alert("Export failed. Please try again.")}finally{i(!1)}},o=async()=>{if(!t.trim()){alert("No code to copy!");return}try{await navigator.clipboard.writeText(t),alert("Code copied to clipboard!")}catch(c){console.error("Copy failed:",c);const a=document.createElement("textarea");a.value=t,a.style.position="fixed",a.style.opacity="0",document.body.appendChild(a),a.select();try{document.execCommand("copy"),alert("Code copied to clipboard!")}catch{alert("Copy failed. Please select and copy manually.")}document.body.removeChild(a)}},u=async()=>{if(!t.trim()){alert("No code to create gist!");return}const a=`kompa-session.${l(e)}`,f={description:`Code collaboration session from Kompa room: ${n}`,public:!0,files:{[a]:{content:t}}};window.open("https://gist.github.com/","_blank")?(sessionStorage.setItem("kompa-gist-data",JSON.stringify(f)),alert("Opening GitHub Gist. Paste your code there to create a shareable link!")):alert("Please allow popups to create a GitHub Gist, or copy the code manually.")};return C.jsx("div",{className:"export-code",children:C.jsxs("div",{className:"export-dropdown",children:[C.jsxs("button",{className:"export-button",disabled:r,title:"Export your code",children:[r?"⏳":"📤"," Export"]}),C.jsxs("div",{className:"export-menu",children:[C.jsx("button",{onClick:s,className:"export-option",disabled:r,children:"📁 Download File"}),C.jsx("button",{onClick:o,className:"export-option",children:"📋 Copy to Clipboard"}),C.jsx("button",{onClick:u,className:"export-option",children:"🌐 Create GitHub Gist"})]})]})})}function e1({roomCode:t,userName:e="Anonymous",serverUrl:n="ws://localhost:8080"}){const r=N.useRef(null),[i,l]=N.useState(""),[s,o]=N.useState("javascript"),[u,c]=N.useState(!1),a=N.useRef(0),{peers:f,connectionState:d,error:p,cursors:y,users:v,sendOperation:x,getText:m,syncManager:h}=Yw(t,{userName:e,serverUrl:n}),g=N.useRef(null),w=N.useCallback((_,B)=>{x({type:"cursor-move",position:_,selection:B})},[x]);N.useEffect(()=>(g.current=Kw(w,Vw),()=>{g.current&&g.current.cancel()}),[w]);const k=N.useCallback((_,B)=>{g.current&&g.current(_,B)},[]),T=(_,B)=>{r.current=_,_.onDidChangeModelContent(Q=>{u||Date.now()-a.current<100||(D(Q.changes),setTimeout(()=>{const O=_.getPosition(),R=_.getSelection();O&&k&&k(O,R)},0))}),_.onDidChangeCursorPosition(Q=>{u||k(Q.position,_.getSelection())}),_.onDidChangeCursorSelection(Q=>{u||k(Q.selection.getStartPosition(),Q.selection)});const Y=m();Y&&l(Y)},D=_=>{for(const Y of _){const{range:Q,text:A,rangeLength:O}=Y,R=r.current.getModel().getOffsetAt(Q.getStartPosition());O>0&&x({type:"text-delete",index:R,length:O}),A&&x({type:"text-insert",index:R,text:A})}const B=r.current.getValue();l(B)};N.useEffect(()=>{if(!h)return;const _=({delta:B})=>{if(r.current){c(!0),a.current=Date.now();try{const Y=r.current.getModel(),Q=S(B);Q.length>0&&Y.pushEditOperations([],Q,()=>null);const A=Y.getValue();l(A)}catch(Y){console.error("Failed to apply remote change:",Y)}finally{setTimeout(()=>{c(!1)},50)}}};return h.on("documentChange",_),()=>{h.off("documentChange",_)}},[h]);const S=_=>{if(!r.current)return[];const B=r.current.getModel(),Y=[];let Q=0;for(const A of _)if(A.retain)Q+=A.retain;else if(A.delete){const O=B.getPositionAt(Q),R=B.getPositionAt(Q+A.delete);Y.push({range:{startLineNumber:O.lineNumber,startColumn:O.column,endLineNumber:R.lineNumber,endColumn:R.column},text:""})}else if(A.insert){const O=B.getPositionAt(Q);Y.push({range:{startLineNumber:O.lineNumber,startColumn:O.column,endLineNumber:O.lineNumber,endColumn:O.column},text:A.insert}),Q+=A.insert.length}return Y},I=_=>{o(_)};return p?C.jsx("div",{className:"code-editor error",children:C.jsxs("div",{className:"error-message",children:[C.jsx("h3",{children:"Connection Error"}),C.jsx("p",{children:p})]})}):C.jsxs("div",{className:"code-editor",children:[C.jsxs("div",{className:"editor-header",children:[C.jsxs("div",{className:"editor-controls",children:[C.jsxs("select",{value:s,onChange:_=>I(_.target.value),className:"language-select",children:[C.jsx("option",{value:"javascript",children:"JavaScript"}),C.jsx("option",{value:"typescript",children:"TypeScript"}),C.jsx("option",{value:"python",children:"Python"}),C.jsx("option",{value:"java",children:"Java"}),C.jsx("option",{value:"cpp",children:"C++"}),C.jsx("option",{value:"html",children:"HTML"}),C.jsx("option",{value:"css",children:"CSS"}),C.jsx("option",{value:"json",children:"JSON"}),C.jsx("option",{value:"markdown",children:"Markdown"})]}),C.jsx(qw,{code:i,language:s,roomCode:t})]}),C.jsxs("div",{className:"connection-info",children:[C.jsx("span",{className:`connection-status ${d}`,children:d==="connected"?`Connected (${f.length} peers)`:d==="connecting"?"Connecting...":d==="failed"?"Connection Failed":"Disconnected"}),p&&C.jsxs("span",{className:"error-info",children:["Error: ",p]})]})]}),C.jsxs("div",{className:"editor-container",children:[C.jsx(nv,{height:"600px",language:s,value:i,onMount:T,theme:"vs-dark",options:{fontSize:14,minimap:{enabled:!1},wordWrap:"on",automaticLayout:!0,scrollBeyondLastLine:!1,renderLineHighlight:"none",occurrencesHighlight:!1,selectionHighlight:!1,codeLens:!1,folding:!1,lineNumbers:"on",glyphMargin:!1,lineNumbersMinChars:4,lineDecorationsWidth:0,scrollbar:{vertical:"visible",horizontal:"visible"}}}),C.jsx(bw,{cursors:y,users:v,editor:r.current})]})]})}function t1({onJoin:t}){const[e,n]=N.useState(""),[r,i]=N.useState(!1),[l,s]=N.useState(""),[o,u]=N.useState("ws://localhost:8080"),[,c]=N.useState(""),a=async d=>{d.preventDefault();const p=Ww(e);if(!(!p||!Hw(p))){i(!0),c("");try{await t(p,{userName:l.trim()||"Anonymous",serverUrl:o.trim()||"ws://localhost:8080"})}catch{c("Failed to join room")}finally{i(!1)}}},f=()=>{const d=Bw();n(d)};return C.jsxs("div",{className:"room-join",children:[C.jsx("h2",{children:"🐙 Join a Kompa Collaboration Room"}),C.jsxs("form",{onSubmit:a,className:"room-join-form",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"roomCode",children:"Room Code:"}),C.jsx("input",{id:"roomCode",type:"text",value:e,onChange:d=>n(d.target.value),placeholder:"Enter room code or create new",disabled:r,autoFocus:!0})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"userName",children:"Your Name:"}),C.jsx("input",{id:"userName",type:"text",value:l,onChange:d=>s(d.target.value),placeholder:"Enter your name (optional)",disabled:r})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"serverUrl",children:"Server URL:"}),C.jsx("input",{id:"serverUrl",type:"text",value:o,onChange:d=>u(d.target.value),placeholder:"ws://localhost:8080",disabled:r})]}),C.jsxs("div",{className:"room-actions",children:[C.jsx("button",{type:"button",onClick:f,disabled:r,className:"secondary",children:"Create New Room"}),C.jsx("button",{type:"submit",disabled:!e.trim()||r,children:r?"Joining...":"Join Room"})]})]}),C.jsxs("div",{className:"room-info",children:[C.jsx("h3",{children:"🐙 Server-Peer Collaboration"}),C.jsxs("ul",{children:[C.jsxs("li",{children:[C.jsx("strong",{children:"Universal compatibility:"})," Works on any network via WebSocket"]}),C.jsxs("li",{children:[C.jsx("strong",{children:"No setup required:"})," Just connect to any Kompa server"]}),C.jsxs("li",{children:[C.jsx("strong",{children:"Real-time sync:"})," Conflict-free collaborative editing"]}),C.jsxs("li",{children:[C.jsx("strong",{children:"Ephemeral rooms:"})," Disappear when everyone leaves"]})]}),C.jsx("h3",{children:"How to use:"}),C.jsxs("ul",{children:[C.jsx("li",{children:"Create a new room or enter an existing room code"}),C.jsx("li",{children:"Share the room code with others to collaborate"}),C.jsx("li",{children:"Make sure everyone connects to the same server URL"}),C.jsx("li",{children:"Start collaborating instantly!"})]})]})]})}class uf extends pn.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error:",e,n),this.setState({error:e,errorInfo:n})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:C.jsx("div",{className:"error-boundary",children:C.jsxs("div",{className:"error-boundary-content",children:[C.jsx("h2",{children:"Something went wrong"}),C.jsx("p",{children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),!1,C.jsx("button",{onClick:()=>window.location.reload(),className:"error-retry-button",children:"Refresh Page"})]})}):this.props.children}}function n1(){const[t,e]=N.useState(""),[n,r]=N.useState(!1),[i,l]=N.useState(""),[s,o]=N.useState("ws://localhost:8080");N.useEffect(()=>{(async()=>{try{const f=await fetch("/api/config");if(f.ok){const d=await f.json();o(d.serverUrl)}}catch(f){console.warn("Failed to fetch server config, using default:",f)}})()},[]);const u=(a,f={})=>{e(a),r(!0),f.userName&&l(f.userName),f.serverUrl&&o(f.serverUrl)},c=()=>{e(""),r(!1)};return C.jsxs("div",{className:"app",children:[C.jsxs("header",{className:"app-header",children:[C.jsx("h1",{children:"🐙 Kompa - P2P Code Collaboration"}),n&&C.jsxs("div",{className:"room-info",children:[C.jsxs("span",{children:["Room: ",t]}),C.jsx("span",{className:"connection-mode",children:"🐙 Server-Peer"}),i&&C.jsxs("span",{children:["User: ",i]}),C.jsx("button",{onClick:c,className:"leave-button",children:"Leave Room"})]})]}),C.jsx("main",{className:"app-main",children:n?C.jsx(uf,{children:C.jsx(e1,{roomCode:t,userName:i,serverUrl:s})}):C.jsx(uf,{children:C.jsx(t1,{onJoin:u})})})]})}lo.createRoot(document.getElementById("root")).render(C.jsx(n1,{}));
